<!DOCTYPE html>
<html>

  <head>
  <!DOCTYPE html>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ManageIQ</title>
  <meta name="description" content="">
  <meta property="og:image" content="http://manageiq.org/assets/images/logo/manageiq-logo-blue.png" />

  <script>
    stored_theme = localStorage.getItem('miq-theme');
    theme        = stored_theme && JSON.parse(localStorage.getItem('miq-theme'));

    if (theme === "light-theme") {
      document.querySelector('html').classList.add("light-theme");
    }

    if (theme === "dark-theme") {
      document.querySelector('html').classList.add("dark-theme");
    }
  </script>

  <link type="text/css" rel="stylesheet" href="/assets/main-364a522e6cb5aa31700d9562491465966c2c1081a61b11529597f13bf81cfb69.css">
  <link rel="canonical" href="http://manageiq.org/docs/reference/latest/provisioning_virtual_machines_and_hosts/">
  <link rel="alternate" type="application/rss+xml" title="ManageIQ" href="http://manageiq.org/feed.xml">

  <link href="/assets/images/favicon.ico" rel="shortcut icon">
</head>


  <body>
    <header class="site-header">
  <a href="/" class="brand">
    <span class="brand-name">ManageIQ</span>
    <img class="brand-logo" src="/assets/images/manageiq-logo-inverse.svg" alt="ManageIQ Logo">
  </a>

  <div id="site_header-nav_toggle">
    <a href="#" class="off_canvas-show" data-behavior="off_canvas-toggle">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  <div class="off_canvas">
    <header class="off_canvas-header">
      <a href="#" class="off_canvas-hide" data-behavior="off_canvas-toggle">
        <i class="fa fa-times"></i>
      </a>
    </header>

    <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
  <li>
    <button class="fa theme-toggle" data-toggle-theme></i>
  </li>
</ul>

  </div>
</header>


    <main data-url="/docs/reference/latest/provisioning_virtual_machines_and_hosts/index">
      <nav class="doc_tabs">
  <ul>
  <li>
    <a href="/docs/get-started/">Get Started</a>
  </li>
  <li class="active">
    <a href="/docs/reference/">User Reference</a>
  </li>
  <li>
    <a href="/docs/automation">
      Automation Book
    </a>
  </li>
  <li>
    <a href="/docs/api">
      API Docs
    </a>
  </li>
  <li>
    <a href="/docs/guides/README">Developer Guides</a>
  </li>
</ul>

    <div class="col-lg-4 col-md-4 col-sm-12 pull-right" style="margin-top: 10px">
        <script async src="https://cse.google.com/cse.js?cx=006042792541147862616:dfkijfebdts"></script>
         <div class="gcse-search"></div>
    </div>
</nav>

<script>
  window.onload = demo;
	function demo() {
	    document.getElementById("gsc-i-id1").setAttribute("placeholder", "Search Documentation")
	}
</script>

<div class="doc_container">
  <div class="doc_menu">
    
    

<div class="doc_menu-heading">
  Latest
</div>

<ul class="menu menu-toplevel" id=ref_menu_latest>


  <li class="menu-parent">
    
    <a href="#">
      Installation
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_aws/index.html">
      Amazon Web Services (AWS)
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_kubernetes/index.html">
      Kubernetes
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_ibm_cloud/index.html">
      IBM Cloud
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_microsoft_azure/index.html">
      Microsoft Azure
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_google_compute_engine/index.html">
      Google Compute Engine
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_vmware_vsphere/index.html">
      VMware vSphere
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_red_hat_enterprise_linux_openstack_platform/index.html">
      Red Hat Enterprise OpenStack Platform
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_red_hat_virtualization/index.html">
      Red Hat Enterprise Virtualization
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/installing_on_scvmm/index.html">
      Microsoft System Center Virtual Machine Manager (SCVMM)
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Upgrading
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/upgrading_appliances/index.html">
      Appliances
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Configuration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/deployment_planning_guide/index.html">
      Deployment Planning Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/general_configuration/index.html">
      General Configuration
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/high_availability_guide/index.html">
      High Availability Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/appliance_hardening_guide/index.html">
      Appliance Hardening Guide
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Administration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/monitoring_alerts_and_reporting/index.html">
      Monitoring, Alerts, and Reporting
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/policies_and_profiles_guide/index.html">
      Policies and Profiles Guide
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_infrastructure_and_inventory/index.html">
      Managing Infrastructure and Inventory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Managing Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/index.html">
      Overview
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Infrastructure Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/infrastructure_providers/red_hat_virtualization_providers.html">
      Red Hat Virtualization Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/infrastructure_providers/openstack_infrastructure_providers.html">
      OpenStack Infrastructure Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/infrastructure_providers/vmware_vcenter_providers.html">
      VMware vCenter Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/infrastructure_providers/microsoft_scvmm_providers.html">
      Microsoft SCVMM Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/infrastructure_providers/ibm_power_hmc_providers.html">
      IBM Power HMC Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Configuration Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/configuration_management_providers/ibm_terraform_provider.html">
      IBM Terraform Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/configuration_management_providers/red_hat_satellite_6.html">
      Red Hat Satellite 6 Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Cloud Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/azure_providers.html">
      Azure Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/amazon_ec2_providers.html">
      Amazon EC2 Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/google_compute_engine_providers.html">
      Google Compute Engine Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/ibm_cloud_vpc_providers.html">
      IBM Cloud VPC Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/ibm_power_systems_virtual_servers_providers.html">
      IBM Power Systems Virtual Servers Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/ibm_power_vc_providers.html">
      IBM PowerVC Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/cloud_providers/openstack_providers.html">
      OpenStack Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Container Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/containers_providers/azure_kubernetes_providers.html">
      Azure Kubernetes Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/containers_providers/red_hat_openshift_providers.html">
      Red Hat OpenShift Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/containers_providers/ibm_cloud_kubernetes_service_providers.html">
      IBM Cloud Kubernetes Service Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/containers_providers/oracle_kubernetes_engine_providers.html">
      Oracle Kubernetes Engine Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/containers_providers/vmware_tanzu_providers.html">
      VMware Tanzu Providers
    </a>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item menu-parent">
    <a href="#">
      Storage Providers
    </a>
    
    <ul>
      



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/storage_providers/amazon_ebs_managers.html">
      Amazon Elastic Block Store Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/storage_providers/openstack_block_storage_managers.html">
      OpenStack Block Storage Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/storage_providers/openstack_object_storage_managers.html">
      OpenStack Object Storage Providers
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/managing_providers/storage_providers/ibm_cloud_object_storage_managers.html">
      IBM Cloud Object Storage Providers
    </a>
    
  </li>


    </ul>
    
  </li>


    </ul>
    
  </li>

  
  
  
  <li class="doc_menu-item active">
    <a href="/docs/reference/latest/provisioning_virtual_machines_and_hosts/index.html">
      Provisioning Virtual Machines and Hosts
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/scripting_actions/index.html">
      Scripting Actions in ManageIQ
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Troubleshooting
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/troubleshooting/index.html">
      Troubleshooting
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Authentication
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/active_directory.html">
      Active Directory
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ipa_2fa.html">
      2-Factor-Authentication with IPA
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ipa_ad_trust.html">
      IPA/AD Trust
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/ldap.html">
      LDAP
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/saml.html">
      SAML
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/auth/openid_connect.html">
      OpenID-Connect
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Integration
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/integration_with_aws_cloudformation_and_openstack_heat/index.html">
      AWS CloudFormation and OpenStack Heat
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/integration_with_servicenow/index.html">
      ServiceNow
    </a>
    
  </li>


      </ul>
    
  </li>


  <li class="menu-parent">
    
    <a href="#">
      Reference
    </a>
    
    
      <ul>
        



  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/capabilities_matrix/index.html">
      Capabilities Matrix
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/api">
      ManageIQ REST API
    </a>
    
  </li>

  
  
  
  <li class="doc_menu-item">
    <a href="/docs/reference/latest/methods_available_for_automation/index.html">
      Methods Available for Automation
    </a>
    
  </li>


      </ul>
    
  </li>

</ul>

    
  </div>
  <div class="doc_main">
    <article class="doc user_doc">
      

      <div class="doc-content">
        
        <div class="doc-versions">
          <span class="label">Versions: </span>
          
            <span class="active" >
              <a href="/docs/reference/latest/provisioning_virtual_machines_and_hosts/index.html">
                Latest
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/najdorf/provisioning_virtual_machines_and_hosts/index.html">
                Najdorf
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/morphy/provisioning_virtual_machines_and_hosts/index.html">
                Morphy
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/lasker/provisioning_virtual_machines_and_hosts/index.html">
                Lasker
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/kasparov/provisioning_virtual_machines_and_hosts/index.html">
                Kasparov
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/jansa/provisioning_virtual_machines_and_hosts/index.html">
                Jansa
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/ivanchuk/doc-Provisioning_Virtual_Machines_and_Hosts/miq/index.html">
                Ivanchuk
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/hammer/doc-Provisioning_Virtual_Machines_and_Hosts/miq/index.html">
                Hammer
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/gaprindashvili/doc-Provisioning_Virtual_Machines_and_Hosts/miq/index.html">
                Gaprindashvili
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/fine/doc-Provisioning_Virtual_Machines_and_Hosts/miq/index.html">
                Fine
              </a>
            </span>
            
              <span class="separator">/</span>
            
          
            <span>
              <a href="/docs/reference/euwe/doc-Provisioning_Virtual_Machines_and_Hosts/miq/index.html">
                Euwe
              </a>
            </span>
            
          
        </div>
        
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#provisioning-virtual-machines-and-instances">Provisioning Virtual Machines and Instances</a></li>
<li class="toc-entry toc-h1"><a href="#manageiq-lifecycle">ManageIQ Lifecycle</a>
<ul>
<li class="toc-entry toc-h2"><a href="#provisioning">Provisioning</a></li>
<li class="toc-entry toc-h2"><a href="#provisioning-requests">Provisioning Requests</a>
<ul>
<li class="toc-entry toc-h3"><a href="#requirements-for-provisioning-virtual-machines-and-instances">Requirements for Provisioning Virtual Machines and Instances</a></li>
<li class="toc-entry toc-h3"><a href="#requirements-for-provisioning-virtual-machines-from-red-hat-virtualization-manager">Requirements for Provisioning Virtual Machines from Red Hat Virtualization Manager</a></li>
<li class="toc-entry toc-h3"><a href="#pxe-provisioning">PXE Provisioning</a>
<ul>
<li class="toc-entry toc-h4"><a href="#connecting-to-a-pxe-server">Connecting to a PXE Server</a></li>
<li class="toc-entry toc-h4"><a href="#creating-system-image-types-for-pxe">Creating System Image Types for PXE</a></li>
<li class="toc-entry toc-h4"><a href="#setting-the-pxe-image-type-for-a-pxe-image">Setting the PXE Image Type for a PXE Image</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#iso-provisioning">ISO Provisioning</a>
<ul>
<li class="toc-entry toc-h4"><a href="#adding-an-iso-datastore">Adding an ISO Datastore</a></li>
<li class="toc-entry toc-h4"><a href="#refreshing-an-iso-datastore">Refreshing an ISO Datastore</a></li>
<li class="toc-entry toc-h4"><a href="#creating-system-image-types-for-iso">Creating System Image Types for ISO</a></li>
<li class="toc-entry toc-h4"><a href="#setting-the-image-type-for-an-iso-image">Setting the Image Type for an ISO Image</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#customization-templates-for-virtual-machine-and-instance-provisioning">Customization Templates for Virtual Machine and Instance Provisioning</a></li>
<li class="toc-entry toc-h3"><a href="#customization-script-additions-for-virtual-machine-and-instance-provisioning">Customization Script Additions for Virtual Machine and Instance Provisioning</a></li>
<li class="toc-entry toc-h3"><a href="#adding-a-customization-template">Adding a Customization Template</a></li>
<li class="toc-entry toc-h3"><a href="#provisioning-virtual-machines">Provisioning Virtual Machines</a>
<ul>
<li class="toc-entry toc-h4"><a href="#provisioning-a-virtual-machine-from-a-template">Provisioning a Virtual Machine from a Template</a></li>
<li class="toc-entry toc-h4"><a href="#provisioning-a-virtual-machine-using-cloud-init-via-rest-api">Provisioning a Virtual Machine using Cloud-Init via REST API</a></li>
<li class="toc-entry toc-h4"><a href="#cloning-a-virtual-machine">Cloning a Virtual Machine</a></li>
<li class="toc-entry toc-h4"><a href="#publishing-a-virtual-machine-to-a-template-vmware-virtual-machines-only">Publishing a Virtual Machine to a Template (VMware Virtual Machines Only)</a></li>
<li class="toc-entry toc-h4"><a href="#renaming-a-provisioned-virtual-machine-vmware-virtual-machines-only">Renaming a Provisioned Virtual Machine (VMware Virtual Machines Only)</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#provisioning-instances">Provisioning Instances</a>
<ul>
<li class="toc-entry toc-h4"><a href="#provisioning-an-ec2-instance-from-an-image">Provisioning an EC2 Instance from an Image</a></li>
<li class="toc-entry toc-h4"><a href="#provisioning-an-openstack-instance-from-an-image-volume-or-volume-snapshot">Provisioning an OpenStack Instance from an Image, Volume or Volume Snapshot</a></li>
<li class="toc-entry toc-h4"><a href="#provisioning-an-ibm-power-systems-virtual-servers-instance-from-an-image">Provisioning an IBM Power Systems Virtual Servers Instance from an Image</a></li>
<li class="toc-entry toc-h4"><a href="#customizing-provisioning-dialogs">Customizing Provisioning Dialogs</a>
<ul>
<li class="toc-entry toc-h5"><a href="#adding-a-provision-dialog-for-all-users">Adding a Provision Dialog for All Users</a></li>
<li class="toc-entry toc-h5"><a href="#creating-a-custom-provision-dialog">Creating a Custom Provision Dialog</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#provisioning-profiles">Provisioning Profiles</a>
<ul>
<li class="toc-entry toc-h5"><a href="#creating-a-provisioning-profile-instance">Creating a Provisioning Profile Instance</a></li>
<li class="toc-entry toc-h5"><a href="#setting-provisioning-scope-tags">Setting Provisioning Scope Tags</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#managing-key-pairs">Managing Key Pairs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#working-with-requests">Working with Requests</a>
<ul>
<li class="toc-entry toc-h3"><a href="#provisioning-request-approval-methods">Provisioning Request Approval Methods</a></li>
<li class="toc-entry toc-h3"><a href="#working-with-provisioning-requests">Working with Provisioning Requests</a>
<ul>
<li class="toc-entry toc-h4"><a href="#reloading-the-status-of-provisioning-requests">Reloading the Status of Provisioning Requests</a></li>
<li class="toc-entry toc-h4"><a href="#approving-a-provisioning-request">Approving a Provisioning Request</a></li>
<li class="toc-entry toc-h4"><a href="#denying-a-provisioning-request">Denying a Provisioning Request</a></li>
<li class="toc-entry toc-h4"><a href="#copying-a-provisioning-request">Copying a Provisioning Request</a></li>
<li class="toc-entry toc-h4"><a href="#editing-a-provisioning-request">Editing a Provisioning Request</a></li>
<li class="toc-entry toc-h4"><a href="#deleting-a-provisioning-request">Deleting a Provisioning Request</a></li>
<li class="toc-entry toc-h4"><a href="#automatically-approving-requests">Automatically Approving Requests</a>
<ul>
<li class="toc-entry toc-h5"><a href="#enabling-global-defaults-for-automatic-approval">Enabling Global Defaults for Automatic Approval</a></li>
<li class="toc-entry toc-h5"><a href="#template-specific-approval-defaults">Template Specific Approval Defaults</a></li>
<li class="toc-entry toc-h5"><a href="#assigning-tags-to-a-template-for-auto-approval">Assigning Tags to a Template for Auto Approval</a></li>
<li class="toc-entry toc-h5"><a href="#setting-provisioning-notification-email-addresses">Setting Provisioning Notification Email Addresses</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#fulfilling-requests">Fulfilling Requests</a>
<ul>
<li class="toc-entry toc-h3"><a href="#fulfilling-a-request">Fulfilling a Request</a></li>
<li class="toc-entry toc-h3"><a href="#default-execution-steps-in-states-instance">Default Execution Steps in States Instance</a>
<ul>
<li class="toc-entry toc-h4"><a href="#quotas">Quotas</a>
<ul>
<li class="toc-entry toc-h5"><a href="#applying-user-or-group-quotas">Applying User or Group Quotas</a></li>
<li class="toc-entry toc-h5"><a href="#using-tags-for-owner-and-group-quotas">Using Tags for Owner and Group Quotas</a></li>
<li class="toc-entry toc-h5"><a href="#applying-a-tag-to-a-user-or-user-group">Applying a Tag to a User or User Group</a></li>
<li class="toc-entry toc-h5"><a href="#state-machines">State Machines</a></li>
<li class="toc-entry toc-h5"><a href="#customizing-provisioning-states">Customizing Provisioning States</a></li>
<li class="toc-entry toc-h5"><a href="#editing-the-default-state-instance">Editing the Default State Instance</a></li>
<li class="toc-entry toc-h5"><a href="#viewing-the-status-of-a-provisioning-request">Viewing the Status of a Provisioning Request</a></li>
<li class="toc-entry toc-h5"><a href="#viewing-a-provisioned-virtual-machine-or-instance">Viewing a Provisioned Virtual Machine or Instance</a></li>
<li class="toc-entry toc-h5"><a href="#viewing-a-virtual-machine-or-instance-summary">Viewing a Virtual Machine or Instance Summary</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#catalogs-and-services">Catalogs and Services</a>
<ul>
<li class="toc-entry toc-h3"><a href="#generic-objects">Generic Objects</a>
<ul>
<li class="toc-entry toc-h4"><a href="#viewing-generic-objects-classes">Viewing Generic Objects Classes</a></li>
<li class="toc-entry toc-h4"><a href="#creating-generic-objects-classes">Creating Generic Objects Classes</a></li>
<li class="toc-entry toc-h4"><a href="#editing-generic-object-classes">Editing Generic Object Classes</a></li>
<li class="toc-entry toc-h4"><a href="#removing-generic-objects-classes">Removing Generic Objects Classes</a></li>
<li class="toc-entry toc-h4"><a href="#exporting-generic-objects">Exporting Generic Objects</a></li>
<li class="toc-entry toc-h4"><a href="#importing-generic-objects">Importing Generic Objects</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#service-dialogs">Service Dialogs</a>
<ul>
<li class="toc-entry toc-h4"><a href="#adding-a-service-dialog">Adding a Service Dialog</a>
<ul>
<li class="toc-entry toc-h5"><a href="#creating-a-service-dialog-from-a-container-template">Creating a Service Dialog from a Container Template</a></li>
<li class="toc-entry toc-h5"><a href="#importing-service-dialogs">Importing Service Dialogs</a></li>
<li class="toc-entry toc-h5"><a href="#exporting-service-dialogs">Exporting Service Dialogs</a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#methods">Methods</a>
<ul>
<li class="toc-entry toc-h5"><a href="#creating-a-method-to-associate-with-the-dialog">Creating a Method to Associate with the Dialog</a></li>
<li class="toc-entry toc-h5"><a href="#creating-a-method-in-the-service-class">Creating a Method in the Service Class</a></li>
<li class="toc-entry toc-h5"><a href="#creating-an-instance-in-the-service-class">Creating an Instance in the Service Class</a></li>
<li class="toc-entry toc-h5"><a href="#associating-a-method-with-an-automate-instance">Associating a Method with an Automate Instance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#catalogs">Catalogs</a>
<ul>
<li class="toc-entry toc-h4"><a href="#creating-a-catalog-bundle">Creating a Catalog Bundle</a></li>
<li class="toc-entry toc-h4"><a href="#copying-a-catalog-bundle">Copying a Catalog Bundle</a></li>
<li class="toc-entry toc-h4"><a href="#creating-a-catalog-item">Creating a Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#copying-a-catalog-item">Copying a Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-a-generic-catalog-item">Creating a Generic Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-ansible-playbook-service-catalog-item">Creating an Ansible Playbook Service Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-ansible-tower-service-catalog-item">Creating an Ansible Tower Service Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-amazon-service-catalog-item">Creating an Amazon Service Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-azure-service-catalog-item">Creating an Azure Service Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-openshift-template-catalog-item">Creating an OpenShift Template Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-an-orchestration-catalog-item">Creating an Orchestration Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#creating-a-vmware-content-library-ovf-template-catalog-item">Creating a VMware Content Library OVF Template Catalog Item</a></li>
<li class="toc-entry toc-h4"><a href="#provisioning-a-service">Provisioning a Service</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#orchestration-stacks">Orchestration Stacks</a>
<ul>
<li class="toc-entry toc-h4"><a href="#creating-an-orchestration-template">Creating an Orchestration Template</a></li>
<li class="toc-entry toc-h4"><a href="#editing-orchestration-templates">Editing Orchestration Templates</a></li>
<li class="toc-entry toc-h4"><a href="#copying-orchestration-templates">Copying Orchestration Templates</a></li>
<li class="toc-entry toc-h4"><a href="#deleting-orchestration-templates">Deleting Orchestration Templates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#retirement">Retirement</a>
<ul>
<li class="toc-entry toc-h3"><a href="#retiring-virtual-machines">Retiring Virtual Machines</a>
<ul>
<li class="toc-entry toc-h4"><a href="#retiring-virtual-machines-and-instances">Retiring Virtual Machines and Instances</a></li>
<li class="toc-entry toc-h4"><a href="#using-the-console-to-retire-a-virtual-machine">Using the Console to Retire a Virtual Machine</a></li>
<li class="toc-entry toc-h4"><a href="#retiring-a-virtual-machine-immediately">Retiring a Virtual Machine Immediately</a></li>
<li class="toc-entry toc-h4"><a href="#setting-a-retirement-date-and-time-for-a-virtual-machine-or-instance">Setting a Retirement Date and Time for a Virtual Machine or Instance</a></li>
<li class="toc-entry toc-h4"><a href="#removing-a-retirement-date-for-a-virtual-machine-or-instance">Removing a Retirement Date for a Virtual Machine or Instance</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#setting-retirement-in-a-provision-request">Setting Retirement in a Provision Request</a>
<ul>
<li class="toc-entry toc-h4"><a href="#scheduling-retirement-in-a-provision-request">Scheduling Retirement in a Provision Request</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#extending-retirement-dates">Extending Retirement Dates</a>
<ul>
<li class="toc-entry toc-h4"><a href="#creating-a-custom-button-to-extend-retirement">Creating a Custom Button to Extend Retirement</a></li>
<li class="toc-entry toc-h4"><a href="#changing-the-number-of-days-to-extend-retirement">Changing the Number of Days to Extend Retirement</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul><h1 id="provisioning-virtual-machines-and-instances">
<a class="anchor" href="#provisioning-virtual-machines-and-instances" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Virtual Machines and Instances</h1>

<h1 id="manageiq-lifecycle">
<a class="anchor" href="#manageiq-lifecycle" aria-hidden="true"><span class="octicon octicon-link"></span></a>ManageIQ Lifecycle</h1>

<p>This guide discusses lifecycle activities such as provisioning and
retirement that are part of the ManageIQ Automate component.
ManageIQ Automate enables real-time, bidirectional process
integration and adaptive automation for management events and
administrative or operational activities.</p>

<ul>
  <li>
    <p>Operations Management with service level resource enforcement.</p>
  </li>
  <li>
    <p>Resource Management including datastore cleanup, snapshot aging and
enforcement, and virtual machine or instance aging and retirement.</p>
  </li>
  <li>
    <p>Configuration and Change Management including enforced closed loop
change management.</p>
  </li>
  <li>
    <p>Lifecycle Management such as provisioning, customization,
reconfiguration, approval, CMDB updates, and retirement.</p>
  </li>
</ul>

<div class="important">

Provisioning requires the **Automation Engine** server role enabled.
Check your server role settings in the settings menu,
menu:Configuration\[Server \&gt; Server Control\].

</div>

<h2 id="provisioning">
<a class="anchor" href="#provisioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning</h2>

<p>When a virtual machine or cloud instance is provisioned, it goes through
multiple phases. First, the request must be made. The request includes
ownership information, tags, virtual hardware requirements, the
operating system, and any customization of the request. Second, the
request must go through an approval phase, either automatic or manual.
Finally, the request is executed. This part of provisioning consists of
pre-processing and post-processing. Pre-processing acquires IP addresses
for the user, creates CMDB instances, and creates the virtual machine or
instance based on information in the request. Post-processing activates
the CMDB instance and emails the user. The steps for provisioning may be
modified at any time using ManageIQ. <img src="../images/2314.png" alt="2314"></p>

<h2 id="provisioning-requests">
<a class="anchor" href="#provisioning-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Requests</h2>

<p>The following options are available when making provisioning requests:</p>

<ul>
  <li>
    <p>Set an owner (User can do this using LDAP lookup)</p>
  </li>
  <li>
    <p>Assign a purpose (tag)</p>
  </li>
  <li>
    <p>Select a template or image from which to create a new virtual
machine or instance respectively</p>
  </li>
  <li>
    <p>Choose placement</p>
  </li>
  <li>
    <p>Set hardware requirements</p>
  </li>
  <li>
    <p>Specify the vLan</p>
  </li>
  <li>
    <p>Customize the guest operating system</p>
  </li>
  <li>
    <p>Schedule the provisioning <img src="../images/2315.png" alt="2315"></p>
  </li>
</ul>

<h3 id="requirements-for-provisioning-virtual-machines-and-instances">
<a class="anchor" href="#requirements-for-provisioning-virtual-machines-and-instances" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements for Provisioning Virtual Machines and Instances</h3>

<p>ManageIQ supports the provisioning of VMware ESX hypervisors. To
provision a virtual machine from VMware providers, you must have an
appliance with the Automation Engine role enabled.</p>

<p>If you are using a Windows template, the following configuration is
required:</p>

<ul>
  <li>
    <p>To customize settings that are inside the operating system, Sysprep
must be copied to the appropriate directory on your vCenter
computer. Usually this location is: <code class="language-plaintext highlighter-rouge">C:\Documents and Settings\All
Users\Application Data\VMware\VMware VirtualCenter\sysprep</code>. Copy
the Sysprep tools to the relevant operating system subdirectory. If
you are running a standard Win2008 operating system, this step is
unnecessary as Sysprep is included as standard.</p>
  </li>
  <li>
    <p>The Windows template must have the latest version of VMware tools
for its ESX Server. Check the VMware Site for more information. If
you are creating a new password for the Administrator account, the
Administrators password must be blank on the template. This is a
limitation of Microsoft Sysprep.</p>
  </li>
</ul>

<p>See the VMware documentation for a complete list of customization
requirements.</p>

<h3 id="requirements-for-provisioning-virtual-machines-from-red-hat-virtualization-manager">
<a class="anchor" href="#requirements-for-provisioning-virtual-machines-from-red-hat-virtualization-manager" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements for Provisioning Virtual Machines from Red Hat Virtualization Manager</h3>

<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Item</th>
<th>Requirements</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Red Hat Virtualization Manager version 4.0 or higher</p></td>
<td><p>Red Hat Virtualization Manager properly installed with API in default location <a href="https://server:8443/api">https://server:8443/api</a></p></td>
</tr>
<tr class="even">
<td><p>Red Hat Virtualization Manager History Database</p></td>
<td>
<p>Red Hat Virtualization Manager Data Warehouse (DWH) properly installed with access to the PostgreSQL database on the Red Hat Virtualization Manager server. Port 5432 open in iptables.</p>
<p>md5 authentication allowed to ManageIQ appliances in <code>pg_hba.conf</code>.</p>
<p>PostgreSQL set to listen for connections on <code>*:5432</code> in <code>postgresql.conf</code>.</p>
<p>Credentials provided during database setup to be used in ManageIQ UI.</p>
</td>
</tr>
<tr class="odd">
<td><p>Storage Supported for ManageIQ Virtual Machine Analysis</p></td>
<td>
<p>NFS - ManageIQ server must be able to mount NFS storage domain.</p>
<p>iSCSI / FCP - Cluster must use full Red Hat Enterprise Linux (not Red Hat Virtualization Hypervisor) Hosts.</p>
<p>DirectLUN Hook installed on each host and registered to Red Hat Virtualization Managers.</p>
<p>Must have ManageIQ appliance in each Cluster with this storage type.</p>
<p>ManageIQ appliance virtual machine container must have DirectLUN attribute set.</p>
<p>Local storage - Not yet supported (Red Hat does not recommend due to single point of failure).</p>
</td>
</tr>
</tbody>
</table>

<h3 id="pxe-provisioning">
<a class="anchor" href="#pxe-provisioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>PXE Provisioning</h3>

<p>PXE is a boot method that allows you to load files from across a network
link. ManageIQ uses it for files required for provisioning
virtual machines. PXE can be used for provisioning for either Red Hat
Virtualization Manager or VMware.</p>

<p><strong>Procedure Overview</strong></p>

<ol>
  <li>
    <p>Connect to the <strong>PXE Server</strong>.</p>
  </li>
  <li>
    <p>Create a <strong>System Image Type</strong>.</p>
  </li>
  <li>
    <p>Associate each <strong>PXE</strong> image with an image type.</p>
  </li>
  <li>
    <p>Create a customization template.</p>
  </li>
</ol>

<p><strong>Requirements for PXE Provisioning</strong></p>

<ul>
  <li>
    <p>DHCP server configured with required PXE implementation</p>
  </li>
  <li>
    <p>PXE implementation for Linux virtual machine provisioning</p>
  </li>
  <li>
    <p>NFS or SAMBA read and write access to create and modify files on the
PXE server</p>
  </li>
  <li>
    <p>ManageIQ Server uses NFS mount to read and write the response
files</p>
  </li>
  <li>
    <p>HTTP read access to the NFS share location as virtual machines use
this URL to access PXE images and Kickstart or Cloud-Init
configuration files</p>
  </li>
  <li>
    <p>Operating system installation media available to be streamed from
PXE server</p>
  </li>
  <li>
    <p>Images configured for desired operating systems</p>
  </li>
  <li>
    <p>Kickstart or Cloud-Init templates to configure operating systems
with desired packages</p>
  </li>
</ul>

<p><strong>Additional Requirements for Provisioning Linux Virtual Machines</strong></p>

<ul>
  <li>
    <p>Linux distribution kernel and ramdisk available over HTTP</p>
  </li>
  <li>
    <p>Linux sources available over HTTP</p>
  </li>
  <li>
    <p>Sample PXE menu item that boots this kernel</p>
  </li>
</ul>

<p><strong>Additional Requirements for Provisioning Windows Virtual Machines</strong></p>

<ul>
  <li>
    <p>WinPE ISO built with rhev-agent-tools (for RHEV-M environments) and
configured to mount shares for Windows source files and Sysprep
files and configured to run customization script</p>
  </li>
  <li>
    <p>Windows based WIM file with operating system installed and
configured with Sysprep</p>
  </li>
  <li>
    <p>Sample Sysprep unattend file to be used with the operating system</p>
  </li>
  <li>
    <p>Sample PXE menu item that downloads WinPE ISO, mount in memdisk and
boot into WinPE environment</p>
  </li>
</ul>

<h4 id="connecting-to-a-pxe-server">
<a class="anchor" href="#connecting-to-a-pxe-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>Connecting to a PXE Server</h4>

<p>The following procedure connects to a PXE server and adds its details to
ManageIQ.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1862.png" alt="1862">(<strong>Add a New PXE Server</strong>).</p>
  </li>
  <li>
    <p>In <strong>Basic Information</strong>, type a <strong>Name</strong> that will be meaningful in
your environment. <img src="../images/2316.png" alt="2316"></p>
  </li>
  <li>
    <p>For <strong>Depot Type</strong>, select either <strong>Network File System</strong> (NFS) or
<strong>Samba</strong>. The fields to enter in the dialog depend on the <strong>Depot
Type</strong>.</p>

    <ul>
      <li>
        <p>For NFS, type in the <strong>URI</strong>, <strong>Access URL</strong>, <strong>PXE Directory</strong>,
<strong>Windows Images Directory</strong>, and <strong>Customization Directory</strong>.
When you provision, ManageIQ writes a text file to the
<strong>PXE Directory</strong>. The file is named after the MAC address of
the NIC that is assigned to the virtual machine. It contains
where to get the kernel and initrd image. This file is removed
after a successful provision. The <strong>Windows Images Directory</strong>
is where the files are located on your NFS for the provisioning
of Windows operating systems. The <strong>Customization Directory</strong> is
where your Kickstart and Sysprep files are located.</p>
      </li>
      <li>
        <p>If using a <strong>Depot Type</strong> of <strong>Samba</strong>, you will not need
<strong>Access URL</strong>, but you will need a <strong>User ID</strong>, and
<strong>Password</strong>, in addition to the items required for NFS.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>For <strong>PXE Image Menus</strong>, type the <strong>Filename</strong> for the PXE Boot
menu.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
  <li>
    <p>Select the new PXE server from the tree on the left, and click
<img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/2003.png" alt="2003">(<strong>Refresh</strong>) to see your existing images.</p>
  </li>
</ol>

<div class="informalexample">

Next, create PXE Image types to associate with the customization
templates and to specify if the image type is for a virtual machine, a
host, or both.

</div>

<h4 id="creating-system-image-types-for-pxe">
<a class="anchor" href="#creating-system-image-types-for-pxe" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating System Image Types for PXE</h4>

<p>The following procedure creates a system image type for PXE servers.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>System Image Types</strong> accordion.
<img src="../images/2318.png" alt="2318"></p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1848.png" alt="1848">(<strong>Add a new System Image Type</strong>).</p>
  </li>
  <li>
    <p>In <strong>Basic Information</strong>, type in a <strong>Name</strong> and select a <strong>Type</strong>.
<img src="../images/2317.png" alt="2317"></p>

    <ul>
      <li>Use <strong>Vm</strong> if you want this image type to only apply to virtual
machines.</li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p><strong>Example:</strong></p>

<p>After creating the System Image Types, assign the types to each image on your PXE servers. To do this, you will select each image on the PXE server and identify its type.</p>

<h4 id="setting-the-pxe-image-type-for-a-pxe-image">
<a class="anchor" href="#setting-the-pxe-image-type-for-a-pxe-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting the PXE Image Type for a PXE Image</h4>

<p>The following procedure sets the image type for a chosen PXE image.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>PXE Servers</strong> accordion and select the image that you want to set a type for.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then <img src="../images/1851.png" alt="1851">(<strong>Edit this PXE Image</strong>).</p>
  </li>
  <li>
    <p>From the <strong>Basic Information</strong> area, select the correct type. If this PXE image will be used as the <strong>Windows Boot Environment</strong>, check <strong>Windows Boot Environment</strong>. At the time of this writing, only one PXE Image can be identified as the <strong>Windows Boot Environment</strong>. Therefore, checking one as the <strong>Windows Boot Environment</strong>, will remove that from any other PXE image with that check. <img src="../images/2319.png" alt="2319"> Click <strong>Save</strong>.
<img src="../images/2320.png" alt="2320"></p>
  </li>
</ol>

<h3 id="iso-provisioning">
<a class="anchor" href="#iso-provisioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>ISO Provisioning</h3>

<p>ManageIQ also allows ISO provisioning from Red Hat Virtualization Manager datastores. To use this feature, you will need to do the
following before creating a provision request.</p>

<ol>
  <li>
    <p>Add the <strong>ISO Datastore</strong>. The Red Hat Virtualization Manager system must have already been discovered or added into the VMDB. For more information, see <a href="../managing_providers/index.html#adding-a-red-hat-virtualization-provider">Adding a Red Hat Enterprise Virtualization Manager Provider</a> in <em>Managing Providers</em>.</p>
  </li>
  <li>
    <p>Refresh the <strong>ISO Datastore</strong>.</p>
  </li>
  <li>
    <p>Create a <strong>System Image Type</strong>.</p>
  </li>
  <li>
    <p>Set the <strong>ISO Image Type</strong>.</p>
  </li>
  <li>
    <p><strong>Create</strong> a customization template.</p>
  </li>
</ol>

<h4 id="adding-an-iso-datastore">
<a class="anchor" href="#adding-an-iso-datastore" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding an ISO Datastore</h4>

<p>The following procedure adds an ISO Datastore from your Red Hat Virtualization environment.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>ISO Datastores</strong> accordion.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>),
<img src="../images/1862.png" alt="1862">(<strong>Add a new ISO Datastore</strong>).</p>
  </li>
  <li>
    <p>Select the Cloud or Infrastructure provider hosting the ISO Datastore.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>The ISO datastore is added to ManageIQ.</p>

<h4 id="refreshing-an-iso-datastore">
<a class="anchor" href="#refreshing-an-iso-datastore" aria-hidden="true"><span class="octicon octicon-link"></span></a>Refreshing an ISO Datastore</h4>

<p>The following procedure refreshes the chosen ISO datastore and updates ManageIQ with available ISOs.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>ISO Datastores</strong> accordion, and select an ISO datastore.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then click <img src="../images/2003.png" alt="2003">(<strong>Refresh Relationships</strong>).</p>
  </li>
</ol>

<h4 id="creating-system-image-types-for-iso">
<a class="anchor" href="#creating-system-image-types-for-iso" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating System Image Types for ISO</h4>

<p>The following procedure creates a system image type for ISO Servers.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>System Image Types</strong> accordion.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then <img src="../images/1862.png" alt="1862">(<strong>Add a new System Image Type</strong>).</p>
  </li>
  <li>
    <p>In <strong>Basic Information</strong>, type in a <strong>Name</strong> and select a <strong>Type</strong>.
<img src="../images/2317.png" alt="2317"></p>

    <ul>
      <li>Use <strong>Vm</strong> if you want this image type to only apply to virtual machines.</li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>. <img src="../images/2322.png" alt="2322"></p>
  </li>
</ol>

<p><strong>Example:</strong></p>

<p>After creating the system image types, assign the types to each image on your ISO servers. To do this, you will select each image on the ISO server and identify its type.</p>

<h4 id="setting-the-image-type-for-an-iso-image">
<a class="anchor" href="#setting-the-image-type-for-an-iso-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting the Image Type for an ISO Image</h4>

<p>The following procedure sets the image type for an ISO image.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>ISO Datastores</strong> accordion, and select the image that you want to set a type for.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then <img src="../images/1851.png" alt="1851">(<strong>Edit this ISO Image</strong>).</p>
  </li>
  <li>
    <p>From the <strong>Basic Information</strong> area, select the correct <strong>Type</strong>.
<img src="../images/2323.png" alt="2323"></p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h3 id="customization-templates-for-virtual-machine-and-instance-provisioning">
<a class="anchor" href="#customization-templates-for-virtual-machine-and-instance-provisioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customization Templates for Virtual Machine and Instance Provisioning</h3>

<p>Add a customization template to provide <strong>Kickstart</strong>, <strong>Cloud-Init</strong>, or <strong>Sysprep</strong> files for the initial loading of the operating system.</p>

<ul>
  <li>
    <p>When creating a template using Red Hat Virtualization, install the <strong>cloud-init</strong> package on the source virtual machine. This enables
Cloud-Init to source configuration scripts when a virtual machine built on that template boots.</p>
  </li>
  <li>
    <p>See <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Virtualization/3.6/html-single/Virtual_Machine_Management_Guide/index.html#sect-Using_Cloud-Init_to_Automate_the_Configuration_of_Virtual_Machines">Using Cloud-Init to Automate the Configuration of Virtual Machines</a> in the Red Hat Virtualization <em>Administration Guide</em> for more information on using Cloud-Init in a Red Hat Virtualization environment.</p>
  </li>
  <li>
    <p>See the <a href="http://cloudinit.readthedocs.org/en/latest/">Cloud-Init Documentation</a> web site for example scripts.</p>
  </li>
</ul>

<!-- end list -->

<ul>
  <li>
    <p>The <strong>Kickstart</strong> file must be named <strong>ks.cfg</strong>.</p>
  </li>
  <li>
    <p>Set the new virtual machine to power down after provisioning is
complete.</p>
  </li>
  <li>
    <p>ManageIQ must use the virtual machine payload feature
of Red Hat Virtualization to create a floppy disk containing the
data from the selected customization template.</p>
  </li>
  <li>
    <p>Customize the installer to include the data written to the floppy
disk payload.</p>
  </li>
</ul>

<!-- end list -->

<ul>
  <li>
    <p>RHEL 7.5 and above</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">isolinux.cfg</code> NDASH add <strong>ks=cdrom</strong> to the <strong>append</strong> line</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ks.cfg</code> NDASH which must minimally include:</p>
  </li>
</ul>

<!-- end list -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>### Pre Install Scripts
%pre

# Mount the floppy drive
modprobe floppy
mkdir /tmp/floppy
mount /dev/fd0 /tmp/floppy
%end

# Include ks.cfg file from the floppy (written by CFME based on selected customization template)
%include /tmp/floppy/ks.cfg
</code></pre></div></div>

<h3 id="customization-script-additions-for-virtual-machine-and-instance-provisioning">
<a class="anchor" href="#customization-script-additions-for-virtual-machine-and-instance-provisioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customization Script Additions for Virtual Machine and Instance Provisioning</h3>

<table>
  <thead>
    <tr>
      <th>Customization Type</th>
      <th>Reason to Include</th>
      <th>Script entries</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kickstart</td>
      <td>Takes the values from the <strong>Customize</strong> tab in <strong>Provisioning Dialog</strong> and substitutes them into the script.</td>
      <td>*Configure Networking based on values from provisioning dialog &lt;% if evm[:addr_mode].first == static %&gt; &lt;% network_string = network onboot yes device=eth0 bootproto=static noipv6 %&gt; &lt;% [ip, :ip_addr, netmask, :subnet_mask, gateway, :gateway, hostname, :hostname, nameserver, :dns_servers].each_slice(2) do</td>
      <td>ks_key, evm_key</td>
      <td>%&gt; &lt;% network_string &lt;&lt;  *{ks_key} #{evm[evm_key]} unless evm[evm_key].blank? %&gt; &lt;% end %&gt; &lt;%= network_string %&gt; &lt;% else %&gt; network device=eth0 bootproto=dhcp &lt;% end %&gt;</td>
    </tr>
    <tr>
      <td>Kickstart</td>
      <td>Encrypts the root password from the <strong>Customize</strong> tab in the <strong>Provisioning Dialog</strong>.</td>
      <td>rootpw iscrypted &lt;%= ManageIQ::Password.md5crypt(evm[:root_password]) %&gt;</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>Kickstart</td>
      <td>Sends status of the provision back to ManageIQ Server for display in the ManageIQ Console.</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>Sysprep</td>
      <td>Encrypts the root password from the <strong>Customize</strong> tab in the <strong>Provisioning Dialog</strong>. The value for the <strong>AdministratorPassword</strong> line must be inserted to use the password from the <strong>Provision Dialog</strong> and encrypt it.</td>
      <td>&lt;UserAccounts&gt; &lt;AdministratorPassword&gt; &lt;Value&gt;&lt;%= ManageIQ::Password.sysprep_crypt(evm[:root_password]) %&gt;&lt;/Value&gt; &lt;PlainText&gt;false&lt;/PlainText&gt; &lt;/AdministratorPassword&gt; &lt;/UserAccounts&gt;</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>

<h3 id="adding-a-customization-template">
<a class="anchor" href="#adding-a-customization-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding a Customization Template</h3>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; PXE].</p>
  </li>
  <li>
    <p>Click the <strong>Customization Templates</strong> accordion.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>),
<img src="../images/1862.png" alt="1862">(<strong>Add a new Customization Template</strong>).</p>
  </li>
  <li>
    <p>In <strong>Basic Information</strong>, type in a <strong>Name</strong> and <strong>Description</strong>.
<img src="../images/2324.png" alt="2324"></p>
  </li>
  <li>
    <p>Select the <strong>Image Type</strong>. This list should include the PXE image types you created.</p>
  </li>
  <li>
    <p>In <strong>Type</strong>, select <strong>Kickstart</strong> or <strong>CloudInit</strong> for Linux based systems, and <strong>Sysprep</strong> for Windows based system.</p>
  </li>
  <li>
    <p>In the <strong>Script</strong> area, either paste the script from another source or type the script directly into the ManageIQ interface.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p><strong>Example:</strong></p>

<p>The default dialogs show all possible parameters for provisioning. To limit the options shown, see <a href="#provisioning-dialogs-customizing">Customizing Provisioning Dialogs</a>.</p>

<h3 id="provisioning-virtual-machines">
<a class="anchor" href="#provisioning-virtual-machines" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Virtual Machines</h3>

<p>There are four types of provisioning requests available in ManageIQ:</p>

<ol>
  <li>
    <p>Provision a new virtual machine from a template</p>
  </li>
  <li>
    <p>Clone a virtual machine</p>
  </li>
  <li>
    <p>Publish a virtual machine to a template</p>
  </li>
  <li>
    <p>Provision a virtual machine using cloud-init via REST API.</p>
  </li>
</ol>

<h4 id="provisioning-a-virtual-machine-from-a-template">
<a class="anchor" href="#provisioning-a-virtual-machine-from-a-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning a Virtual Machine from a Template</h4>

<p>You can provision virtual machines through various methods. One method is to provision a virtual machine directly from a template stored on a provider.</p>

<p><strong>Important:</strong></p>

<ul>
  <li>
    <p>To provision a virtual machine, you must have the Automation Engine role enabled.</p>
  </li>
  <li>
    <p>During virtual machine provisioning, the <strong>Customize</strong> tab is hidden if the template has an unknown operating system (OS) type. To make
the <strong>Customize</strong> tab visible in the user interface, you will need to set the OS type from the provider or perform SmartState analysis on the template to detect the OS type.</p>
  </li>
</ul>

<p>To provision a virtual machine from a template:</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines].</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), and then
<img src="../images/1862.png" alt="1862">(<strong>Provision VMs</strong>).</p>
  </li>
  <li>
    <p>Select a template from the list.</p>
  </li>
  <li>
    <p>Click <strong>Continue</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Request</strong> tab, enter the request information.</p>

    <p><img src="../images/request-info.png" alt="request info"></p>

    <p>In <strong>Request Information</strong>, enter your name and email address. The requester will receive status emails about the provisioning request such as auto-approval, quota, provision complete, retirement,
request pending approval, and request denied.</p>

    <p><strong>Note:</strong></p>

    <p>Parameters with a * next to the label are required to submit the provisioning request. To change the required parameters, see <a href="#provisioning-dialogs-customizing">Customizing Provisioning Dialogs</a>.</p>
  </li>
  <li>
    <p>Click the <strong>Purpose</strong> tab to select the appropriate tags for the provisioned virtual machines.</p>
  </li>
  <li>
    <p>Click the <strong>Catalog</strong> tab to select the template to provision from. This tab is context sensitive based on provider.</p>
  </li>
  <li>
    <p>For templates on VMware providers: <img src="../images/2328.png" alt="2328"></p>

    <ol>
      <li>
        <p>For <strong>Provision Type</strong>, select <strong>VMware</strong> or <strong>PXE</strong>.</p>

        <ol>
          <li>
            <p>If <strong>VMware</strong> is selected, select <strong>Linked Clone</strong> to create
a linked clone to the virtual machine instead of a full
clone. Since a snapshot is required to create a linked
clone, this box is only enabled if a snapshot is present.
Select the snapshot you want to use for the linked clone.</p>
          </li>
          <li>
            <p>If <strong>PXE</strong> is selected, select a PXE <strong>Server</strong> and
<strong>Image</strong> to use for provisioning.</p>
          </li>
        </ol>
      </li>
      <li>
        <p>Under <strong>Count</strong>, select the number of virtual machines to create
in this request.</p>
      </li>
      <li>
        <p>Use <strong>Naming</strong> to specify a virtual machine name and virtual
machine description. When provisioning multiple virtual
machines, a number will be appended to the virtual machine name.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>For templates on Red Hat providers:</p>

    <ol>
      <li>
        <p>Select the <strong>Name</strong> of a template to use.</p>
      </li>
      <li>
        <p>For <strong>Provision Type</strong>, select either <strong>ISO</strong>, <strong>PXE</strong>, or
<strong>Native Clone</strong>. You must select <strong>Native Clone</strong> in order to
use a Cloud-Init template.</p>

        <ol>
          <li>
            <p>If <strong>Native Clone</strong> is selected, select <strong>Linked Clone</strong> to
create a linked clone to the virtual machine instead of a
full clone. This is equivalent to <em>Thin Template
Provisioning</em> in Red Hat Virtualization. Since a snapshot is
required to create a linked clone, this box is only enabled
if a snapshot is present. Select the snapshot to use for the
linked clone.</p>
          </li>
          <li>
            <p>If <strong>ISO</strong> is selected, select an ISO <strong>Image</strong> to use for
provisioning.</p>
          </li>
          <li>
            <p>If <strong>PXE</strong> is selected, select a PXE <strong>Server</strong> and
<strong>Image</strong> to use for provisioning.</p>
          </li>
        </ol>
      </li>
      <li>
        <p>Under <strong>Count</strong>, select the number of virtual machines you want
to create in this request.</p>
      </li>
      <li>
        <p>Use <strong>Naming</strong> to specify a <strong>VM Name</strong> and <strong>VM Description</strong>.
When provisioning multiple virtual machines, a number will be
appended to the <strong>VM Name</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Environment</strong> tab to decide where you want the new
virtual machines to reside.</p>

    <ol>
      <li>
        <p>If provisioning from a template on VMware, you can either let
ManageIQ decide for you by checking <strong>Choose
Automatically</strong>, or select a specific cluster, resource pool,
folder, host, and datastore. VMware virtual machines can also be
provisioned to a clustered datastore by selecting it under
<strong>Datastore</strong>. Additionally, you can assign a storage profile to
a VMware virtual machine under <strong>Datastore</strong> to configure the
virtual machine to operate using a storage profile from that
datastore.</p>

        <p>Note, read-only datastores are excluded when provisioning a
virtual machine.</p>
      </li>
      <li>
        <p>If provisioning from a template on Red Hat, you can either let
ManageIQ decide for you by checking <strong>Choose
Automatically</strong>, or select a datacenter, cluster, host and
datastore.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Hardware</strong> tab to set hardware options. <img src="../images/provision-vms.png" alt="provision
vms"></p>

    <ol>
      <li>
        <p>In <strong>Hardware</strong>, set the number of sockets, cores per socket,
memory in MB, and disk format: thin, pre-allocated/thick or same
as the provisioning template (default).</p>
      </li>
      <li>
        <p>For VMware provisioning, set the <strong>VM Limits</strong> of CPU and memory
the virtual machine can use.</p>
      </li>
      <li>
        <p>For VMware provisioning, set the <strong>VM Reservation</strong> amount of
CPU and memory.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Network</strong> to set the vLan adapter. Additional networking
settings that are internal to the operating system appear on the
<strong>Customize</strong> tab. <img src="../images/2335.png" alt="2335"></p>

    <ol>
      <li>
        <p>In <strong>Network Adapter Information</strong>, select the <strong>vLan</strong>.</p>

        <p><strong>Note:</strong></p>

        <p>A VMware virtual machine can be provisioned to a DVPortgroup by selecting it from the <strong>vLan</strong> list. Prior to provisioning a virtual machine, the DVPortgroup must be created on a vSphere
Distributed Switch (VDS) in VMware vCenter in order for ManageIQ to list the DVPortgroup under <strong>vLan</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Customize</strong> to customize the operating system of the new virtual machine. These options vary based on the operating system of the template. <img src="../images/2336.png" alt="2336"></p>
  </li>
  <li>
    <p>For Windows provisioning:</p>

    <ol>
      <li>
        <p>To use a custom specification from the provider, click <strong>Specification</strong>. To select an appropriate template, choose from the list in the custom specification area. The values that are honored by ManageIQ display.</p>

        <p><strong>Note:</strong></p>

        <p>Any values in the specification that do not show in the ManageIQ consoles request dialogs are not used by ManageIQ. For example, for Windows operating systems, if you have any run once values in the specification, they are not used in creating the new virtual machines. Currently, for a Windows operating system, ManageIQ honors the unattended GUI, identification, workgroup information, user data, windows options, and server license. If more than one network card is specified, only the first is used.</p>

        <p><img src="../images/2337.png" alt="2337"></p>

        <p>To modify the specification, select <strong>Override Specification Values</strong>.</p>
      </li>
      <li>
        <p>Select <strong>Sysprep Answer File</strong>, to upload a Sysprep file or use one that exists for a custom specification on the Provider where the template resides. To upload a file, click <strong>Browse</strong> to find the file, and then upload. To use an answer file in <strong>Customization Specification</strong>, click on the item. The answer file will automatically upload for viewing. You cannot make modifications to it.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>For Linux provisioning:</p>

    <ol>
      <li>
        <p>Under <strong>Credentials</strong>, enter a <strong>Root Password</strong> for the <strong>root</strong> user to access the instance.</p>
      </li>
      <li>
        <p>Enter a <strong>IP Address Information</strong> for the instance. Leave as <strong>DHCP</strong> for automatic IP assignment from the provider.</p>
      </li>
      <li>
        <p>Enter any <strong>DNS</strong> information for the instance if necessary.</p>
      </li>
      <li>
        <p>Select <strong>Customize Template</strong> for additional instance configuration. Select from the Kickstart or Cloud-Init customization templates stored on your appliance.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Schedule</strong> tab to select when provisioning begins.</p>

    <ol>
      <li>
        <p>In <strong>Schedule Info</strong>, select when to start provisioning. If you
select <strong>Schedule</strong>, you will be prompted to enter a date and
time. Select <strong>Stateless</strong> if you do not want the files deleted
after the provision completes. A stateless provision does not
write to the disk so it requires the PXE files on the next boot.</p>
      </li>
      <li>
        <p>In <strong>Lifespan</strong>, select to power on the virtual machines after
they are created, and to set a retirement date. If you select a
retirement period, you will be prompted for when you want a
retirement warning. <img src="../images/2338.png" alt="2338"></p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<p>The provisioning request is sent for approval. For the provisioning to
begin, a user with the administrator, approver, or super administrator
account role must approve the request. The administrator and super
administrator roles can also edit, delete, and deny the requests. You
will be able to see all provisioning requests where you are either the
requester or the approver.</p>

<p>After submission, the appliance assigns each provision request a
<strong>Request ID</strong>. If an error occurs during the approval or provisioning
process, use this ID to locate the request in the appliance logs. The
Request ID consists of the region associated with the request followed
by the request number. As regions define a range of one trillion
database IDs, this number can be several digits long.</p>

<p><strong>Request ID Format</strong></p>

<p>Request 99 in region 123 results in Request ID 123000000000099.</p>

<h4 id="provisioning-a-virtual-machine-using-cloud-init-via-rest-api">
<a class="anchor" href="#provisioning-a-virtual-machine-using-cloud-init-via-rest-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning a Virtual Machine using Cloud-Init via REST API</h4>

<p>Cloud-init is a tool for automating the initial setup of virtual
machines. In ManageIQ, you can use cloud-init via REST API
to provision a virtual machine that was created based on a template.</p>

<p><strong>Note:</strong></p>

<p>To use cloud-init, the template from which the virtual machine is provisioned must have cloud-init package installed, and have the <strong>Use Cloud-Init/Sysprep</strong> option selected.</p>

<p>For a virtual machine provision request via REST API, ensure the following two fields in the requests body are set correctly, otherwise cloud-init may not work.</p>

<ul>
  <li>
    <p>VLAN</p>
  </li>
  <li>
    <p>sysprep_enabled</p>
  </li>
</ul>

<p><strong>VLAN.</strong></p>

<p>The value of <strong>VLAN</strong> in the API request can be one of the following options:</p>

<table>
  <thead>
    <tr>
      <th>VLAN value</th>
      <th>Note</th>
      <th>vNIC profile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&lt;empty&gt;</td>
      <td>Must be written within the &lt;..&gt;</td>
      <td>No vNIC profile</td>
    </tr>
    <tr>
      <td>&lt;Template&gt;</td>
      <td>Must be written within the &lt;..&gt;</td>
      <td>Use the templates default vNIC profile</td>
    </tr>
    <tr>
      <td>profile_name (network_name)</td>
      <td>Must include a space between profile_name (network_name), otherwise it will fail. For example, <strong>ovirtmgmt (ovirtmgmt)</strong>
</td>
      <td>Set the specified vNIC profile.</td>
    </tr>
    <tr>
      <td>vNIC profile ID</td>
      <td></td>
      <td>Set the specified vNIC profile, such as <code class="language-plaintext highlighter-rouge">3a8dce01-dd59-4a46-8a6f-823acccda79f</code>.</td>
    </tr>
  </tbody>
</table>

<p><strong>sysprep_enabled.</strong></p>

<p>The value of sysprep_enabled in the API request must be in the
following format.</p>

<p><strong>Note:</strong></p>

<p>Sysprep_enabled is written in the order: [value] - [its meaning] -
[how it appears in the ManageIQ user interface virtual
machine provision dialogs <strong>Customize</strong> tab]</p>

<p><strong>For Windows template</strong>:</p>

<ul>
  <li>
    <p><strong>fields</strong> - Sysprep Specification
In the ManageIQ user interface, when you navigate to the virtual machine provision dialog (menu:Compute[Infrastructure
&gt; Virtual Machine]), this option located under the <strong>Customize</strong> tabs <strong>Customize</strong> drop-down list is called <strong>Sysprep Specification</strong>.</p>
  </li>
  <li>
    <p><strong>file</strong> - Sysprep answer file in the ManageIQ user interface, when you navigate to the virtual machine provision dialog (menu:Compute[Infrastructure &gt; Virtual Machine]), this option located under the <strong>Customize</strong>
tabs <strong>Customize</strong> drop-down list is called <strong>Sysprep answer file</strong>.</p>
  </li>
</ul>

<p><strong>For Linux template</strong>:</p>

<ul>
  <li>
<strong>fields</strong> - Customized template and any Customized parameters
will be used
In the ManageIQ user interface, when you navigate to
the virtual machine provision dialog (menu:Compute[Infrastructure
&gt; Virtual Machine]), this option located under the <strong>Customize</strong>
tabs <strong>Customize</strong> drop-down list is called <strong>Specification</strong>.</li>
</ul>

<p><strong>Note:</strong></p>

<p>For cloud-init to work <em>(that is, to have the provisioned virtual machine marked with <strong>Use cloud-init</strong> and the customized template as well as customized parameters, if any, will be used)</em> sysprep_enabled must be set to fields. If you do not set it correctly, the customized template will be ignored and the provisioned virtual machine will not be
marked with <strong>Use cloud-init</strong>; although, the template from which the virtual machine is provisioned has it marked.</p>

<p><strong>For both Windows and Linux template</strong>:</p>

<ul>
  <li>
<strong>disabled</strong> - Do not customize
In the ManageIQ user interface, when you navigate to
the virtual machine provision dialog (menu:Compute[Infrastructure &gt; Virtual Machine]), this option located under the <strong>Customize</strong>
tabs <strong>Customize</strong> drop-down list is called <strong>&lt;None&gt;</strong>. The customized template will be ignored, and the provisioned virtual machine will not be marked with <strong>Use cloud-init</strong>, even though the template from which the virtual machine was provisioned, has it marked. The default value is disabled.</li>
</ul>

<p><strong>Note:</strong></p>

<p>For an example of virtual machine provisioning request using cloud-init via REST API, see <em>Provision Requests</em> in the <a href="../api/reference/provision_requests.html">ManageIQ API Guide</a>.</p>

<h4 id="cloning-a-virtual-machine">
<a class="anchor" href="#cloning-a-virtual-machine" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cloning a Virtual Machine</h4>

<p>Virtual machines can be cloned in other providers as well.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines], and select the virtual machine you want to clone.</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), and then <img src="../images/2339.png" alt="2339">(<strong>Clone selected item</strong>).</p>
  </li>
  <li>
    <p>Enter the requested information in the dialogs. Be sure to check the <strong>Catalog</strong> tab.</p>
  </li>
  <li>
    <p>Schedule the request on the <strong>Schedule</strong> tab.</p>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<h4 id="publishing-a-virtual-machine-to-a-template-vmware-virtual-machines-only">
<a class="anchor" href="#publishing-a-virtual-machine-to-a-template-vmware-virtual-machines-only" aria-hidden="true"><span class="octicon octicon-link"></span></a>Publishing a Virtual Machine to a Template (VMware Virtual Machines Only)</h4>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines], and
select the virtual machine you want to publish as a template.</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), and then
<img src="../images/2340.png" alt="2340">(<strong>Publish selected VM to a Template</strong>).</p>
  </li>
  <li>
    <p>Enter the requested information in the dialogs. Be sure to check the
<strong>Catalog</strong> tab.</p>
  </li>
  <li>
    <p>Schedule the request on the <strong>Schedule</strong> tab.</p>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<h4 id="renaming-a-provisioned-virtual-machine-vmware-virtual-machines-only">
<a class="anchor" href="#renaming-a-provisioned-virtual-machine-vmware-virtual-machines-only" aria-hidden="true"><span class="octicon octicon-link"></span></a>Renaming a Provisioned Virtual Machine (VMware Virtual Machines Only)</h4>

<p>ManageIQ allows you to rename a VMware virtual machine without
having to reprovision it.</p>

<p>To rename a VMware virtual machine:</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines], and
select the VMware virtual machine you want to rename.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>),
<img src="../images/1851.png" alt="1851">(<strong>Rename selected item</strong>).</p>
  </li>
  <li>
    <p>In the <strong>Basic Information</strong> screen, provide a new <strong>name</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<p>The renamed virtual machine will appear in the inventory view.</p>

<h3 id="provisioning-instances">
<a class="anchor" href="#provisioning-instances" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Instances</h3>

<p>Cloud instances follow the same process (Request, Approval, Deployment)
as a standard virtual machine from virtualization infrastructure. First,
a user makes a request for instances and specifies the image, volume or
volume snapshot, tags, availability zone and hardware profile flavor.
Second, the request goes through the approval phase. Finally,
ManageIQ executes the request.</p>

<h4 id="provisioning-an-ec2-instance-from-an-image">
<a class="anchor" href="#provisioning-an-ec2-instance-from-an-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning an EC2 Instance from an Image</h4>

<ol>
  <li>
    <p>Navigate to menu:Compute[Clouds &gt; Instances].</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), then click
<img src="../images/1862.png" alt="1862">(<strong>Provision Instances</strong>).</p>
  </li>
  <li>
    <p>Select an image from the list presented.</p>
  </li>
  <li>
    <p>Click <strong>Continue</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Request</strong> tab, enter information about this provisioning
request. In <strong>Request Information</strong>, type in at least a first and
last name and an email address. This email is used to send the
requester status emails during the provisioning process for items
such as auto-approval, quota, provision complete, retirement,
request pending approval, and request denied. The other information
is optional. If the ManageIQ Server is configured to use
LDAP, you can use the <strong>Look Up</strong> button to populate the other
fields based on the email address.</p>

    <p><strong>Note:</strong></p>

    <p>Parameters with a * next to the label are required to submit the
provisioning request. To change the required parameters, see
<a href="#provisioning-dialogs-customizing">Customizing Provisioning
Dialogs</a>.</p>
  </li>
  <li>
    <p>Click the <strong>Purpose</strong> tab to select the appropriate tags for the provisioned instance.</p>
  </li>
  <li>
    <p>Click the <strong>Catalog</strong> tab for basic instance options.</p>

    <ol>
      <li>
        <p>To change the image to use as a basis for the instance, select it from the list of images.</p>
      </li>
      <li>
        <p>Select the <strong>Number of VMs</strong> to provision.</p>
      </li>
      <li>
        <p>Type a <strong>VM Name</strong> and <strong>VM Description</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Environment</strong> tab to select the instances
<strong>Availability Zone</strong>, <strong>Virtual Private Cloud</strong>, <strong>Cloud Subnet</strong>,
<strong>Security Groups</strong>, and <strong>Elastic IP Address</strong>. If no specific
availability zone is required, select the <strong>Choose Automatically</strong>
checkbox.</p>
  </li>
  <li>
    <p>Click the <strong>Properties</strong> tab to set provider options such as
hardware flavor and security settings.</p>

    <ol>
      <li>
        <p>Select a flavor from the <strong>Instance Type</strong> list.</p>
      </li>
      <li>
        <p>Select a <strong>Guest Access Key Pair</strong> for access to the instance.</p>
      </li>
      <li>
        <p>Select the <strong>CloudWatch</strong> monitoring level. Leave as <strong>Basic</strong>
for the default EC2 monitoring.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Customize</strong> tab to set additional instance options.</p>

    <ol>
      <li>
        <p>Under <strong>Credentials</strong>, enter a <strong>Root Password</strong> for the
<strong>root</strong> user access to the instance.</p>
      </li>
      <li>
        <p>Enter a <strong>IP Address Information</strong> for the instance. Leave as
<strong>DHCP</strong> for automatic IP assignment from the provider.</p>
      </li>
      <li>
        <p>Enter any <strong>DNS</strong> information for the instance if necessary.</p>
      </li>
      <li>
        <p>Select a <strong>Customize Template</strong> for additional instance
configuration. Select from the Cloud-Init scripts stored on your
appliance.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Schedule</strong> tab to set the provisioning and retirement
date and time.</p>

    <ol>
      <li>
        <p>In <strong>Schedule Info</strong>, choose whether the provisioning begins
upon approval, or at a specific time. If you select
<strong>Schedule</strong>, you will be prompted to enter a date and time.</p>
      </li>
      <li>
        <p>In <strong>Lifespan</strong>, select whether to power on the instances after
they are created, and whether to set a retirement date. If you
select a retirement period, you will be prompted for when to
receive a retirement warning.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<p>The provisioning request is sent for approval. For the provisioning to
begin, a user with the admin, approver, or super admin account role must
approve the request. The admin and super admin roles can also edit,
delete, and deny the requests. You will be able to see all provisioning
requests where you are either the requester or the approver.</p>

<p>After submission, the appliance assigns each provision request a
<strong>Request ID</strong>. If an error occurs during the approval or provisioning
process, use this ID to locate the request in the appliance logs. The
Request ID consists of the region associated with the request followed
by the request number. As regions define a range of one trillion
database IDs, this number can be several digits long.</p>

<p><strong>Request ID Format</strong></p>

<p>Request 99 in region 123 results in Request ID 123000000000099.</p>

<h4 id="provisioning-an-openstack-instance-from-an-image-volume-or-volume-snapshot">
<a class="anchor" href="#provisioning-an-openstack-instance-from-an-image-volume-or-volume-snapshot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning an OpenStack Instance from an Image, Volume or Volume Snapshot</h4>

<p>Create a request to provision Red Hat OpenStack Platform cloud instances
from images, volumes, and volume snapshots using ManageIQ. Only
bootable volumes not in use will be available.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Compute &gt; Clouds &gt; Instances</strong></p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), then click
<img src="../images/1862.png" alt="1862">(<strong>Provision Instances</strong>).</p>
  </li>
  <li>
    <p>Select an OpenStack image, volume or volume snapshot from the list
presented. These files must be available on your OpenStack provider.</p>
  </li>
  <li>
    <p>Click <strong>Continue</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Request</strong> tab, enter information about this provisioning
request. In <strong>Request Information</strong>, type in at least an email
address. This email is used to send the requester status emails
during the provisioning process for items such as auto-approval,
quota, provision complete, retirement, request pending approval, and
request denied. The other information is optional. If the
ManageIQ Server is configured to use LDAP, you can use the
<strong>Look Up</strong> button to populate the other fields based on the email
address.</p>

    <p><strong>Note:</strong></p>

    <p>Parameters with a * next to the label are required to submit the provisioning request. To change the required parameters, see <a href="#customizing-provisioning-dialogs">Customizing Provisioning Dialogs</a>.</p>
  </li>
  <li>
    <p>Click the <strong>Purpose</strong> tab to select the appropriate tags for the
provisioned instance.</p>
  </li>
  <li>
    <p>Click the <strong>Catalog</strong> tab for basic instance options.</p>

    <ol>
      <li>
        <p>To change the source file to use as a basis for the instance,
select it from the list of images, volumes, or volume snapshots.</p>
      </li>
      <li>
        <p>Select the <strong>Number of Instances</strong> to provision.</p>
      </li>
      <li>
        <p>Type a <strong>Instance Name</strong> and <strong>Instance Description</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Environment</strong> tab to select the instances <strong>Cloud
Tenant</strong>, <strong>Availabilty Zones</strong>, <strong>Cloud Network</strong>, <strong>Security
Groups</strong>, and <strong>Public IP Address</strong>. If no specific Cloud Tenant is
required, select the <strong>Choose Automatically</strong> checkbox.</p>
  </li>
  <li>
    <p>Click the <strong>Properties</strong> tab to set provider options such as flavors
and security settings.</p>

    <ol>
      <li>
        <p>Select a flavor from the <strong>Instance Type</strong> list.</p>
      </li>
      <li>
        <p>Select a <strong>Guest Access Key Pair</strong> for access to the instance.
For more information about key pairs, see <a href="#managing-key-pairs">Managing Key Pairs</a>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Volumes</strong> tab to provision any volumes with the
instance. Volumes are useful for augmenting ephemeral storage of
instances with persistent, general-purpose block storage:</p>

    <ol>
      <li>
        <p>Fill in the <strong>Volume Name</strong> and <strong>Size (gigabytes)</strong> fields.</p>
      </li>
      <li>
        <p>If you want the volume to be deleted once the instance
terminates (thereby making it non-persistent), check <strong>Delete on
Instance Terminate</strong>.</p>
      </li>
      <li>
        <p>To provision and add multiple volumes to the instance, click
<strong>Add Volume</strong>. Doing so will add new fields you can fill in.</p>

        <p>For more information about persistent storage in OpenStack, see
the Red Hat OpenStack Platform <em>Storage Guide</em>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Customize</strong> tab to set additional instance options.</p>

    <ol>
      <li>
        <p>Under <strong>Credentials</strong>, enter a <strong>Root Password</strong> for the
<strong>root</strong> user access to the instance.</p>
      </li>
      <li>
        <p>Enter a <strong>IP Address Information</strong> for the instance. Leave as
<strong>DHCP</strong> for automatic IP assignment from the provider.</p>
      </li>
      <li>
        <p>Enter any <strong>DNS</strong> information for the instance if necessary.</p>
      </li>
      <li>
        <p>Select a <strong>Customize Template</strong> for additional instance
configuration. Select from the Cloud-Init scripts stored on your
appliance.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Schedule</strong> tab to set the provisioning and retirement
date and time.</p>

    <ol>
      <li>
        <p>In <strong>Schedule Info</strong>, choose whether the provisioning begins
upon approval, or at a specific time. If you select
<strong>Schedule</strong>, you will be prompted to enter a date and time.</p>
      </li>
      <li>
        <p>In <strong>Lifespan</strong>, select whether to power on the instances after
they are created, and whether to set a retirement date. If you
select a retirement period, you will be prompted for when to
receive a retirement warning.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<p>The provisioning request is sent for approval. For the provisioning to
begin, a user with the admin, approver, or super admin account role must
approve the request. The admin and super admin roles can also edit,
delete, and deny the requests. You will be able to see all provisioning
requests where you are either the requester or the approver.</p>

<p>After submission, the appliance assigns each provision request a
<strong>Request ID</strong>. If an error occurs during the approval or provisioning
process, use this ID to locate the request in the appliance logs. The
Request ID consists of the region associated with the request followed
by the request number. As regions define a range of one trillion
database IDs, this number can be several digits long.</p>

<p><strong>Request ID Format</strong></p>

<p>Request 99 in region 123 results in Request ID 123000000000099.</p>

<h4 id="provisioning-an-ibm-power-systems-virtual-servers-instance-from-an-image">
<a class="anchor" href="#provisioning-an-ibm-power-systems-virtual-servers-instance-from-an-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning an IBM Power Systems Virtual Servers Instance from an Image</h4>

<p>For an overview of IBM Power Systems Virtual Servers, including terminology
used in ManageIQ, see <a href="https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-getting-started">Getting started with IBM
Power Systems Virtual
Servers</a></p>

<p>Create a request to provision IBM Power Systems Virtual Servers instances
from images.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Compute &gt; Clouds &gt; Instances</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Lifecycle</strong>, then click <img src="../images/1862.png" alt="1862">(<strong>Provision
Instances</strong>).</p>
  </li>
  <li>
    <p>Select an image from the list presented. Each image is associated with a
single Power Systems Virtual Servers provider instance. If there are
multiple provider instances registered be sure to select an image
associated with the desired instance.</p>

    <p><strong>Notes:</strong></p>

    <ul>
      <li>
        <p>Images must already be imported into a Power Systems Virtual Servers
provider instance before becoming available in the
ManageIQ inventory. This can be done using the
IBM Cloud web interface, CLI, or API.  For detailed instructions see <a href="https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-importing-boot-image">IBM
Cloud PowerVS docs: Importing a boot
image</a>
and <a href="https://cloud.ibm.com/docs/cli?topic=power-iaas-cli-plugin-power-iaas-cli-reference#ibmcloud-pi-image-create">IBM Cloud CLI: ibmcloud pi
image-create</a>.</p>
      </li>
      <li>
        <p><a href="https://www.ibm.com/docs/en/power-systems-vs?topic=gs-getting-started-sap-hana-power-systems-virtual-servers">SAP HANA on IBM Power Systems Virtual
Servers</a>
requires special SLES for SAP HANA images. These boot images are added to
a Power Systems Virtual Servers provider instance automatically when
provisioning an SAP HANA instance through the IBM Cloud web interface.
Once the SLES for SAP HANA image has been added, subsequent instances can
be provisioned using ManageIQ.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Continue</strong>.</p>
  </li>
  <li>
    <p>Click the <strong>General</strong> tab for general instance options.</p>

    <ol>
      <li>
        <p>Select the <strong>Number of Instances</strong> to provision.</p>
      </li>
      <li>
        <p>Type an <strong>Instance Name</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Profile</strong> tab for hardware profile options.</p>

    <p><img src="../images/ibm_cloud_powervs_vm_provision_form.png" alt="Power Systems Virtual Server VM provisioning form"></p>

    <ol>
      <li>
        <p>Select the <strong>Processor</strong> type.</p>

        <p><strong>Note:</strong> See <a href="https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-power-iaas-faqs#processor">Power Systems Virtual Servers
documentation</a>
for more information.</p>
      </li>
      <li>
        <p>Select a <strong>Machine Type</strong>.</p>

        <p><strong>Note:</strong> When provisioning with an SAP HANA image, the <strong>Machine Type</strong>
field is used to select the SAP profile. The SAP profile includes the
number of entitled processors and memory (these fields will be
automatically set and can only be changed by selected a different SAP
profile).</p>
      </li>
      <li>
        <p>Optionally, select <strong>Attach Volumes</strong> items.</p>

        <p><strong>Note:</strong> A VM cannot have disks from different storage types. Only existing
volumes matching the <strong>Storage Type</strong> will be available for selection.</p>
      </li>
      <li>
        <p>Select a <strong>Storage Type</strong>.</p>

        <p><strong>Note:</strong> See <a href="https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-power-iaas-faqs#storage">Power Systems Virtual Servers
documentation</a>
for more information on volume types.</p>
      </li>
      <li>
        <p>Enter number of <strong>Entitled Processors</strong>.</p>

        <p><strong>Notes:</strong></p>

        <ul>
          <li>
            <p>If dedicated <strong>Processor</strong> is selected, <strong>Entitled Processors</strong> must
be allocated in whole numbers.</p>
          </li>
          <li>
            <p>If shared or uncapped <strong>Processor</strong> is selected, <strong>Entitled
Processors</strong> must be allocated in a multiple of 0.25.</p>
          </li>
          <li>
            <p>When provisioning with an SAP HANA image this field is set by the
profile (<strong>Machine Type</strong>) selection.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>Enter <strong>Memory (GB)</strong>.</p>

        <p><strong>Note:</strong> When provisioning with an SAP HANA image this field is set by
the profile (<strong>Machine Type</strong>) selection.</p>
      </li>
      <li>
        <p>Optionally, select a <strong>Key Pair</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>New Volumes</strong> tab to optionally create new volumes to be
attached to the VM.</p>

    <p>All new volumes will be the <strong>Storage Type</strong> selected in the <strong>Profile</strong>
tab. For each new volume:</p>

    <ol>
      <li>
        <p>Type a volume <strong>Name</strong>.</p>
      </li>
      <li>
        <p>Enter <strong>Size (GB)</strong>.</p>
      </li>
      <li>
        <p>Select a <strong>Sharable</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Network</strong> tab to select networks.</p>

    <ol>
      <li>
        <p>Select an existing network from <strong>Network Interface</strong>. If None is
selected then <strong>Attach to New Public Network</strong> must be selected.</p>
      </li>
      <li>
        <p>Select <strong>Attach to New Public Network</strong> to create a new public network
to attach to the VM.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Customization</strong> tab for additional options.</p>

    <ol>
      <li>
        <p>Use the <strong>Upload File</strong> section to upload a Cloud-init file.</p>
      </li>
      <li>
        <p>In the <strong>Other</strong> section, select <strong>Migratable</strong> and <strong>VM pinning</strong></p>

        <p><strong>Note:</strong> <a href="https://cloud.ibm.com/docs/power-iaas?topic=power-iaas-power-iaas-faqs#pinning">Learn
more</a>
about VM pinning.</p>
      </li>
      <li>
        <p>In the <strong>IP Address Information</strong> section, optionally enter an IP
address to request for the selected <strong>Network Interface</strong> in the
<strong>Network</strong> tab.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<p>The provisioning request is sent for approval. For the provisioning to begin, a
user with the admin, approver, or super admin account role must approve the
request. The admin and super admin roles can also edit, delete, and deny the
requests. You will be able to see all provisioning requests where you are
either the requester or the approver.</p>

<p>After submission, the appliance assigns each provision request a <strong>Request
ID</strong>. If an error occurs during the approval or provisioning process, use this
ID to locate the request in the appliance logs. The Request ID consists of the
region associated with the request followed by the request number. As regions
define a range of one trillion database IDs, this number can be several digits
long.</p>

<p><strong>Request ID Format</strong></p>

<p>Request 99 in region 123 results in Request ID 123000000000099.</p>

<h4 id="customizing-provisioning-dialogs">
<a class="anchor" href="#customizing-provisioning-dialogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customizing Provisioning Dialogs</h4>

<p>The default set of provisioning dialogs shows all possible options.
However, ManageIQ also provides the ability to customize which
tabs and fields are shown. You can decide what fields are required to
submit the provisioning request or set default values.</p>

<p>For each type of provisioning, there is a dialog that can be created to
adjust what options are presented. While samples are provided containing
all possible fields for provisioning, you can remove what fields are
shown but cannot add new fields or tabs.</p>

<p>Edit the dialogs to:</p>

<ol>
  <li>
    <p>Hide or show provisioning tabs.</p>
  </li>
  <li>
    <p>Hide or show fields. If you hide an attribute, the default will be
used, unless you specify otherwise.</p>
  </li>
  <li>
    <p>Set default values for a field.</p>
  </li>
  <li>
    <p>Specify if a field is required to submit the request.</p>
  </li>
  <li>
    <p>Create custom dialogs for specific users.</p>
  </li>
</ol>

<h5 id="adding-a-provision-dialog-for-all-users">
<a class="anchor" href="#adding-a-provision-dialog-for-all-users" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding a Provision Dialog for All Users</h5>

<ol>
  <li>
    <p>Login to the ManageIQ console for the ManageIQ server
where you want to change the dialog.</p>
  </li>
  <li>
    <p>Navigate to menu:Automate[Customization].</p>
  </li>
  <li>
    <p>Click the <strong>Provisioning Dialogs</strong> accordion.</p>
  </li>
  <li>
    <p>Click the type of dialog you want to create: <strong>Host Provision</strong>,
<strong>VM Provision</strong> or <strong>VM Migrate</strong>.</p>
  </li>
  <li>
    <p>Select one of the default dialogs.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, and then click
<img src="../images/1859.png" alt="1859"><strong>(Copy this Dialog)</strong>.</p>
  </li>
  <li>
    <p>Type a new <strong>Name</strong> and <strong>Description</strong> for the dialog.</p>
  </li>
  <li>
    <p>In the <strong>Content</strong> field,</p>

    <ul>
      <li>
        <p>To remove a tab from display, change its display value to
ignore. By choosing ignore, you not only hide the tab, but also
skip any fields on that tab that were required. To show the tab,
change the display value to show.</p>
      </li>
      <li>
        <p>To hide a field, change its <code class="language-plaintext highlighter-rouge">:display:</code> value from <code class="language-plaintext highlighter-rouge">:edit</code> to
<code class="language-plaintext highlighter-rouge">:hide</code>. To display fields of most data types, use <code class="language-plaintext highlighter-rouge">:edit</code>. To
display a button, use <code class="language-plaintext highlighter-rouge">:show</code>. To set a default value for a
field, add <code class="language-plaintext highlighter-rouge">:default: defaultvalue</code> to the list of parameters
for the field. Set the <code class="language-plaintext highlighter-rouge">:required:</code> parameter to either <code class="language-plaintext highlighter-rouge">true</code>
or <code class="language-plaintext highlighter-rouge">false</code> based on your needs.</p>

        <p><strong>Note:</strong></p>

        <p>If you set <code class="language-plaintext highlighter-rouge">:required:</code> to <code class="language-plaintext highlighter-rouge">true</code>, the field must have a value for the provision request to be submitted.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>If you are using <strong>Provisioning Profiles</strong>, you can specify a specific file that holds the customizations. To do this, you must create an instance mapping to this file in the ManageIQ
<strong>Applications/provisioning/profile/VM provisioning by group</strong> class. By default, if you are using provisioning profiles and the group does not have a defined instance, the appropriate default dialog file will be used based on the type of provisioning selected.</p>

<h5 id="creating-a-custom-provision-dialog">
<a class="anchor" href="#creating-a-custom-provision-dialog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Custom Provision Dialog</h5>

<ol>
  <li>
    <p>Navigate to menu:Automate[Customization].</p>
  </li>
  <li>
    <p>Click on the <strong>Provisioning Dialogs</strong> accordion.</p>
  </li>
  <li>
    <p>Click on the type of dialog you want to create, <strong>Host Provision</strong>,
<strong>VM Provision</strong> or <strong>VM Migrate</strong>.</p>
  </li>
  <li>
    <p>Select one of the default dialogs.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), and then
<img src="../images/1859.png" alt="1859">(<strong>Copy this Dialog</strong>).</p>
  </li>
  <li>
    <p>Rename the dialog as shown in the examples below.</p>

    <table>
      <thead>
        <tr>
          <th>Type of Provision</th>
          <th>Dialog Name</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Provision Virtual Machine from a template</td>
          <td>miq_provision_dialogs_groupname_template Example: miq_provision_dialogs_ EvmGroup-user_self_service _template</td>
        </tr>
        <tr>
          <td>Clone a Virtual Machine</td>
          <td>miq_provision_dialogs_groupname_clone_to_vm Example: miq_provision_dialogs_ EvmGroup-user_self_service _clone_to_vm</td>
        </tr>
        <tr>
          <td>Publish a Virtual Machine to a template</td>
          <td>miq_provision_dialogs_groupname_clone_to_template Example: miq_provision_dialogs_ EvmGroup-user_self_service _clone_to_template</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Make any changes you need.</p>
  </li>
  <li>
    <p>In the <strong>Content</strong> field,</p>

    <ul>
      <li>
        <p>To remove a tab from display, change its display value to
ignore. By choosing ignore, you not only hide the tab, but also
skip any fields on that tab that were required. To show the tab,
change the display value to show.</p>
      </li>
      <li>
        <p>To hide a field, change its <code class="language-plaintext highlighter-rouge">:display:</code> value from <code class="language-plaintext highlighter-rouge">:edit</code> to
<code class="language-plaintext highlighter-rouge">:hide</code>. To ensure the field does not get turned back on by a
workflow model, use <code class="language-plaintext highlighter-rouge">:display_override: :hide</code>. To display
fields of most data types, use <code class="language-plaintext highlighter-rouge">:edit</code>. To display a button, use
<code class="language-plaintext highlighter-rouge">:show</code>. To set a default value for a field, add <code class="language-plaintext highlighter-rouge">:default:
defaultvalue</code> to the list of parameters for the field. Set the
<code class="language-plaintext highlighter-rouge">:required:</code> parameter to either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code> based on your
needs.</p>

        <p><strong>Note:</strong></p>

        <p>If you set <code class="language-plaintext highlighter-rouge">:required:</code> to <code class="language-plaintext highlighter-rouge">true</code>, the field must have a value for the provision request to be submitted.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>Enter the name of the new dialog into the dialog name field in the appropriate ManageIQ <strong>Applications/provisioning/profile instance</strong>. This dialog can now be referred to in an instance in the
Provisioning Profiles class so that it can be used for groups of users.</p>

<h4 id="provisioning-profiles">
<a class="anchor" href="#provisioning-profiles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Profiles</h4>

<p>Provisioning profiles can be used to customize the dialogs and the state machine (steps used to provision the machine). Profiles can be created for LDAP or ManageIQ groups. To use provisioning profiles:</p>

<ul>
  <li>
    <p>Create a <strong>Provisioning Profile</strong> instance for the LDAP or ManageIQ group. If no instance exists, then default settings will be used.</p>
  </li>
  <li>
    <p>If customizing dialogs, create a custom dialog file, and specify the name of that file in the provisioning profile instance. If customizing the states for provisioning, create a state instance and set the name of the state instance in the provisioning profile instance.</p>
  </li>
</ul>

<p>The diagram below shows where provisioning profiles are called during the entire provisioning process. <img src="../images/2344.png" alt="2344"></p>

<h5 id="creating-a-provisioning-profile-instance">
<a class="anchor" href="#creating-a-provisioning-profile-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Provisioning Profile Instance</h5>

<ol>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>Using the tree located in the accordion, click menu:DOMAIN[Cloud &gt; VM &gt; Provisioning &gt; Profile].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

    <p>This example uses the <strong>Cloud</strong> Namespace, but can also use the <strong>Infrastructure</strong> namespace.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>),
<img src="../images/2345.png" alt="2345">(<strong>Add a New Instance</strong>).</p>
  </li>
  <li>
    <p>Make the name of the tag identical to the name of the LDAP or ManageIQ group you are creating the instance for, replacing spaces in the group name with underscores. For example, change
<strong>ManageIQ-test group</strong> to <strong>ManageIQ-test_group</strong>.
<img src="../images/6278.png" alt="6278"></p>
  </li>
  <li>
    <p>In the dialog name field, enter the name of the customized dialog file. This file must reside on the ManageIQ appliance in the <code class="language-plaintext highlighter-rouge">/var/www/miq/vmdb/db/fixtures</code> directory. Red Hat recommends naming
the file in the format <code class="language-plaintext highlighter-rouge">miq_provision_dialogs-groupname.rb</code> and copying this file to all ManageIQ appliances. For instructions on creating a custom dialog file, see <a href="#provisioning-dialogs-customizing">Customizing Provisioning Dialogs</a>.</p>

    <p><strong>Note:</strong></p>

    <p>Be sure that the custom dialog file exists. If it does not, an error will appear when the user clicks on the <strong>Provisioning</strong> button in the ManageIQ console.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h5 id="setting-provisioning-scope-tags">
<a class="anchor" href="#setting-provisioning-scope-tags" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Provisioning Scope Tags</h5>

<p>Some non-default placement methods, for example the
<strong>redhat_best_placement_with_scope</strong> or
<strong>vmware_best_fit_with_scope</strong> methods, may require you to set
<strong>Provisioning Scope</strong> tags for a host and a datastore.</p>

<p>To enable these resources for all groups, set the scope to <strong>All</strong>. To limit access to a select group, create a tag in the <strong>Provisioning Scope</strong> category with the exact name of the user group and set this tag on the desired resources. See <a href="../general_configuration/index.html#tags">Tags</a> in <em>General Configuration</em> for information on creating tags.</p>

<p>To set the scope for a datastore:</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Datastores].</p>
  </li>
  <li>
    <p>Select the datastore to set the provisioning scope for.</p>
  </li>
  <li>
    <p>Click <img src="../images/1941.png" alt="1941">(<strong>Policy</strong>), and then
<img src="../images/1851.png" alt="1851">(<strong>Edit Tags</strong>).</p>
  </li>
  <li>
    <p>From the <strong>Select a customer tag to assign</strong> drop down, select
<strong>Provisioning Scope</strong> and then a value for the tag from the next
drop down menu.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h4 id="managing-key-pairs">
<a class="anchor" href="#managing-key-pairs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Managing Key Pairs</h4>

<p>Key pairs allow you to manage SSH access between a user and provisioned
instance. For more information about key pairs in OpenStack, see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/11/html/instances_and_images_guide/ch-manage_instances#section-manage-keypair">Manage
Key
Pairs</a>
in the <em>Instances and Images Guide</em>.</p>

<p>To manage key pairs, browse to menu: <strong>Compute &gt; Clouds &gt; Key Pairs</strong>.
From there, you can view a list of available key pairs. Click on a key
pair to view its details.</p>

<p>To create a new key pair:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Compute &gt; Clouds &gt; Key Pairs</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>,
<img src="../images/2345.png" alt="2345">(<strong>Add a new Key Pair</strong>).</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> for the key pair.</p>
  </li>
  <li>
    <p>If you want to use a public key, copy its contents into the <strong>Public
Key (optional)</strong> field.</p>
  </li>
  <li>
    <p>Select which cloud provider on which to create the key pair. The key
pair will then be available for use by instances in that provider.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h2 id="working-with-requests">
<a class="anchor" href="#working-with-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with Requests</h2>

<h3 id="provisioning-request-approval-methods">
<a class="anchor" href="#provisioning-request-approval-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning Request Approval Methods</h3>

<p>In this chapter, you will learn about the different approval methods.
The request can be approved manually in the ManageIQ console, set
for automatic approval by setting options in the <strong>Automate Explorer</strong>,
or by using an external method. <img src="../images/2348.png" alt="2348"> When using an
external method, the approval actually takes place on the external
system and is sent directly for execution. This chapter discusses how to
view and edit requests in the ManageIQ Console, how to approve a
request, and how to set automatic approval parameters.</p>

<h3 id="working-with-provisioning-requests">
<a class="anchor" href="#working-with-provisioning-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with Provisioning Requests</h3>

<p>After a provisioning request is sent, if you have proper authority, you
can copy, edit, delete, approve, or deny a request.</p>

<p>After submission, the appliance assigns each provision request a
<strong>Request ID</strong>. If an error occurs during the approval or provisioning
process, use this ID to locate the request in the appliance logs. The
<strong>Request ID</strong> consists of the region associated with the request
followed by the request number. As regions define a range of one
trillion database IDs, this number can be several digits long.</p>

<p><strong>Request ID Format</strong></p>

<p><strong>Request 99</strong> in <strong>region 123</strong> results in <strong>Request ID
123000000000099</strong>.</p>

<h4 id="reloading-the-status-of-provisioning-requests">
<a class="anchor" href="#reloading-the-status-of-provisioning-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reloading the Status of Provisioning Requests</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click <img src="../images/2106.png" alt="2106">(<strong>Reload the current display</strong>).</p>
  </li>
</ol>

<h4 id="approving-a-provisioning-request">
<a class="anchor" href="#approving-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Approving a Provisioning Request</h4>

<p>After a user creates provisioning request, administrators have the
ability to approve the request and allow ManageIQ to complete
virtual machine or instance creation.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click on the request you want to approve.</p>
  </li>
  <li>
    <p>Type in a <strong>Reason</strong> for the approval.</p>
  </li>
  <li>
    <p>Click <img src="../images/1852.png" alt="1852">(<strong>Approve this request</strong>).</p>
  </li>
</ol>

<h4 id="denying-a-provisioning-request">
<a class="anchor" href="#denying-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Denying a Provisioning Request</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click on the request you want to deny.</p>
  </li>
  <li>
    <p>Type in a <strong>Reason</strong> for the denial.</p>
  </li>
  <li>
    <p>Click <img src="../images/2009.png" alt="2009">(<strong>Deny this request</strong>).</p>
  </li>
</ol>

<h4 id="copying-a-provisioning-request">
<a class="anchor" href="#copying-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copying a Provisioning Request</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click on the request you want to copy.</p>
  </li>
  <li>
    <p>Click <img src="../images/1859.png" alt="1859">(<strong>Copy original provision
request</strong>).</p>
  </li>
  <li>
    <p>Make changes to the request.</p>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<div class="informalexample">

If the logged in user is not same as the requester or the request has been already approved or denied, you cannot edit or delete the request.

</div>

<h4 id="editing-a-provisioning-request">
<a class="anchor" href="#editing-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing a Provisioning Request</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click on the request you want to edit.</p>
  </li>
  <li>
    <p>Click <img src="../images/1851.png" alt="1851">(<strong>Edit the original provision
request</strong>).</p>
  </li>
  <li>
    <p>Make changes to the request.</p>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>
  </li>
</ol>

<h4 id="deleting-a-provisioning-request">
<a class="anchor" href="#deleting-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deleting a Provisioning Request</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests].</p>
  </li>
  <li>
    <p>Click on the request you want to delete.</p>
  </li>
  <li>
    <p>Click <img src="../images/1861.png" alt="1861">(<strong>Delete this request</strong>).</p>
  </li>
  <li>
    <p>Click <strong>OK</strong> to confirm.</p>
  </li>
</ol>

<h4 id="automatically-approving-requests">
<a class="anchor" href="#automatically-approving-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Automatically Approving Requests</h4>

<p>You can set thresholds for automatic approval of provisioning requests
and, therefore, remove the requirement to manually approve the request.
You can do this either as a global default or on a per template basis.</p>

<h5 id="enabling-global-defaults-for-automatic-approval">
<a class="anchor" href="#enabling-global-defaults-for-automatic-approval" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enabling Global Defaults for Automatic Approval</h5>

<p>To enable a global set of default approval values, edit the defaults
instance by navigating to menu:Automate[Explorer], then
menu:DOMAIN[Cloud|Infrastructure &gt; VM &gt; Provisioning &gt; StateMachines
&gt; ProvisionRequestApproval] in the accordion menu. The parameters in
this instance are used by the methods in that same class. By default,
the maximum number of virtual machines or instances that can be
automatically approved for provisioning is 1. To skip the check for the
maximum number of virtual machines, set this field to 0. Set this field
to -1 to force manual approval. At a minimum, you must change this
parameter for all others to be validated.</p>

<ol>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>From the tree in the accordion menu, select menu:DOMAIN[Cloud &gt; VM
&gt; Provisioning &gt; StateMachines &gt; ProvisionRequestApproval
Class].</p>

    <p><strong>Note:</strong></p>

    <p>DOMAIN must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

    <p>This example uses the <strong>Cloud</strong> Namespace but can also use the <strong>Infrastructure</strong> namespace.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1851.png" alt="1851">(<strong>Edit this instance</strong>).
<img src="../images/6280.png" alt="6280"></p>

    <p><strong>Note:</strong></p>

    <p>Do not change any values other than those listed below. Doing so may prevent the automatic approval process from running.</p>

    <ul>
      <li>
        <p>Use <strong>max_cpus</strong> to set the number of CPUs allowed to approve automatically the provisioning request.</p>
      </li>
      <li>
        <p>Use <strong>max_vms</strong> to set the maximum number of virtual machines or instances that are allowed to be provisioned automatically approve the request. If this is set to blank, no requests will be automatically approved.</p>
      </li>
      <li>
        <p>Use <strong>max_memory</strong> to set the maximum memory allowed to approve automatically the provisioning request.</p>
      </li>
      <li>
        <p>Use <strong>max_retirement_days</strong> to set the maximum number of days until the virtual machine or instance is retired to automatically approve this request.</p>
      </li>
      <li>
        <p>If a value is blank or <strong>0</strong>, the parameter is ignored.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<p>The thresholds for automatic approval are set. The next time a provision request is created these thresholds will be checked. If the requirements are met, the provisioning request will be approved with no user intervention.</p>

<h5 id="template-specific-approval-defaults">
<a class="anchor" href="#template-specific-approval-defaults" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template Specific Approval Defaults</h5>

<p>ManageIQ provides tags that can be used to set default automatic approval values on a per template or image basis. These values <strong>supersede</strong> those in the <strong>Automate</strong> model. Use these tags to eliminate the need for manual approval for all provisioning requests. To enable automatic approval, assign the tags directly to templates or images.</p>

<table>
  <thead>
    <tr>
      <th>Category Display Name (Name)</th>
      <th>Use (Sample values)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Auto Approve Max CPU (prov_max_cpus)</td>
      <td>Sets the maximum number of CPUs that can be automatically approved in a single provisioning request. Sample Values: 1, 2, 3, 4, 5</td>
    </tr>
    <tr>
      <td>Auto Approve Max Memory (prov_max_memory)</td>
      <td>Sets the maximum number of memory that can be automatically approved in a single provisioning request. Sample Values: 1, 2, 4, 8 (in GB)</td>
    </tr>
    <tr>
      <td>Auto Approve Max Retirement Days (prov_max_retirement_days)</td>
      <td>Sets the maximum number of days until retirement that can be automatically approved in a single provisioning request. Sample Values: 30, 60, 90, 180 (in days)</td>
    </tr>
    <tr>
      <td>Auto Approve Max VM (prov_max_vms)</td>
      <td>Sets the maximum number of virtual machines or instances that can be automatically approved in a single provisioning request. Sample Values: 1, 2, 3, 4, 5</td>
    </tr>
  </tbody>
</table>

<h5 id="assigning-tags-to-a-template-for-auto-approval">
<a class="anchor" href="#assigning-tags-to-a-template-for-auto-approval" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assigning Tags to a Template for Auto Approval</h5>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines].</p>
  </li>
  <li>
    <p>Click the <strong>Templates</strong> accordion, and select the templates that you
want to tag.</p>
  </li>
  <li>
    <p>Click <img src="../images/1941.png" alt="1941">(<strong>Policy</strong>), and then
<img src="../images/1851.png" alt="1851">(<strong>Edit Tags</strong>).</p>
  </li>
  <li>
    <p>Select a customer tag from the first dropdown, and then a value for
the tag.</p>
  </li>
</ol>

<p>The thresholds for automatic approval for a specific template are set. The next time a provision request is created for this template these thresholds will be checked. If the requirements are met, the provisioning request will be approved with no user intervention.</p>

<h5 id="setting-provisioning-notification-email-addresses">
<a class="anchor" href="#setting-provisioning-notification-email-addresses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Provisioning Notification Email Addresses</h5>

<p>ManageIQ contains a set of Automate instances for provisioning. These Automate instances also include email fields to set the sender and recipient of provisioning notifications, such as requests. These fields
are set to <strong>evmadmin@company.com</strong> as a default.</p>

<ol>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>Choose the following Namespace: menu:DOMAIN[Cloud &gt; VM &gt;
Provisioning &gt; Email].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

    <p>This example uses the <strong>Cloud</strong> Namespace, but can also use the <strong>Infrastructure</strong> namespace.</p>
  </li>
  <li>
    <p>Select an instance within the chosen class.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1851.png" alt="1851">(<strong>Edit this instance</strong>).</p>
  </li>
  <li>
    <p>Type the desired email addresses in the <strong>to_email_address</strong> and
<strong>from_email_address</strong> fields.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>

    <p><img src="../images/6282.png" alt="6282"></p>
  </li>
</ol>

<h2 id="fulfilling-requests">
<a class="anchor" href="#fulfilling-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fulfilling Requests</h2>

<h3 id="fulfilling-a-request">
<a class="anchor" href="#fulfilling-a-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fulfilling a Request</h3>

<p>After a request has been approved, ManageIQ then goes through the
steps required to complete the request. The steps followed for a regular
provision from a virtual machine to a virtual machine (not to a
template) are found by navigating to menu:Automate[Explorer], then
listed under menu:DOMAIN[Cloud|Infrastructure &gt; VM &gt; Provisioning &gt;
VMProvision_VM &gt; Provision VM from Template (template)]. The value
for each state shows where the instance resides in the <strong>Datastore</strong>
accordion. The default set of execution steps is shown below. For more
information on state machines, see <a href="#state-machines">State Machines</a>.</p>

<h3 id="default-execution-steps-in-states-instance">
<a class="anchor" href="#default-execution-steps-in-states-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Default Execution Steps in States Instance</h3>

<table>
  <thead>
    <tr>
      <th>Step</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Customize Request</td>
      <td>Apply customizations.</td>
    </tr>
    <tr>
      <td>Acquire IP Address</td>
      <td>Integrates with IPAM (IP Address Management) to get an IP Address.</td>
    </tr>
    <tr>
      <td>Acquire MAC Address</td>
      <td>Integrates with IPAM to get a MAC Address.</td>
    </tr>
    <tr>
      <td>Register DNS</td>
      <td>Integrates with IPAM to register with DNS.</td>
    </tr>
    <tr>
      <td>Register CMDB</td>
      <td>Integrates with CMDB (Configuration Management Database) to register with the CMDB.</td>
    </tr>
    <tr>
      <td>Register AD</td>
      <td>Integrates with IPAM to register with active directory.</td>
    </tr>
    <tr>
      <td>PreProvision</td>
      <td>Pre-provisioning steps.</td>
    </tr>
    <tr>
      <td>Provision</td>
      <td>Create the virtual machine or instance.</td>
    </tr>
    <tr>
      <td>CheckProvisioned</td>
      <td>Check that the new virtual machine or instance is in the VMDB.</td>
    </tr>
    <tr>
      <td>PostProvision</td>
      <td>Post-provisioning steps.</td>
    </tr>
    <tr>
      <td>Register DHCP</td>
      <td>Integrate with IPAM to register the IP address with DHCP Server.</td>
    </tr>
    <tr>
      <td>Activate CMDB</td>
      <td>Integrate with IPAM to activate the virtual machine or instance in the CMDB.</td>
    </tr>
    <tr>
      <td>Email owner</td>
      <td>Send email to owner that the virtual machine or instance has been provisioned.</td>
    </tr>
  </tbody>
</table>

<h4 id="quotas">
<a class="anchor" href="#quotas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quotas</h4>

<p>Quotas allow you to establish maximum usage thresholds for an user,
group, or tenant for provisioned virtual machines or instances and are
integrated into provisioning profiles. These maximums are checked after
the approval but before the actual provision request is started. The
quota is set for the tenant or group as a whole.</p>

<h5 id="applying-user-or-group-quotas">
<a class="anchor" href="#applying-user-or-group-quotas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Applying User or Group Quotas</h5>

<ol>
  <li>
    <p>Log in as a user with administrator or super administrator rights to
the ManageIQ console.</p>
  </li>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>Copy the menu:ManageIQ[System &gt; CommonMethods &gt; QuotaStateMachine
&gt; quota] instance to a custom DOMAIN.</p>
  </li>
  <li>
    <p>From the accordion menu, click menu:DOMAIN[System &gt; CommonMethods
&gt; QuotaStateMachine &gt; quota].</p>

    <p><strong>Note:</strong></p>

    <p>By default, quotas are applied to tenants and do not require any change in menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>),
<img src="../images/1851.png" alt="1851">(<strong>Edit this instance</strong>).
<img src="../images/6300.png" alt="6300"></p>

    <ol>
      <li>
        <p>Set the value for <strong>Quota Source Type</strong> to <em>user</em> or <em>group</em>.</p>

        <p><strong>Important:</strong></p>

        <p>A user creating a provisioning request must have an email address saved in their profile, or provisioning may fail. See <a href="../general_configuration/index.html#creating-a-user">Creating a User</a> in <em>General Configuration</em> for details on configuring users.</p>
      </li>
      <li>
        <p>Set the values for <strong>VM Warning Count</strong>, <strong>VM Maximum Count</strong>, <strong>Storage Warning Limit</strong>, <strong>Storage Maximum Limit</strong>, <strong>CPU Warning Count</strong>, <strong>CPU Maximum Count</strong>, <strong>Memory Warning Limit</strong>, or <strong>Memory Maximum Limit</strong> to be the maximums for a specific user or group.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h5 id="using-tags-for-owner-and-group-quotas">
<a class="anchor" href="#using-tags-for-owner-and-group-quotas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Tags for Owner and Group Quotas</h5>

<p>ManageIQ provides tags for enforcing quotas for the owners of virtual machines or instances. Ownership of a virtual machine or instance can be set either during the provisioning process or by using
the <strong>Configuration Set Ownership</strong> button. If a virtual machine or instance has an owner, the value is displayed in the <strong>Lifecycle</strong> section of the virtual machine or instance summary page.</p>

<p>Quota tags can be assigned directly to <strong>either</strong> a group or owner <strong>not</strong> to a configuration item. The table below shows the tags for use in quotas.</p>

<table>
  <thead>
    <tr>
      <th>Category Display Name (Name)</th>
      <th>Use</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Quota Max CPU (quota_max_cpu)</td>
      <td>Sets the maximum number of CPUs summed over all virtual machines and instances owned by the group or user. Sample Values: 1, 2, 3, 4, 5, 10, 20, 30, 40, 50</td>
    </tr>
    <tr>
      <td>Quota Max Memory (quota_max_memory)</td>
      <td>Sets the maximum memory summed over all virtual machines and instances owned by the group or user. Sample Values: 1024, 2048, 4096, 8192, 10240, 20480, 40960, 81920 (in MB)</td>
    </tr>
    <tr>
      <td>Quota Max Storage (quota_max_storage)</td>
      <td>Sets the maximum storage summed over virtual machines and instances owned by the group or user. Sample Values: 10, 100, 1000, 20, 200, 40, 400 (in GB)</td>
    </tr>
  </tbody>
</table>

<h5 id="applying-a-tag-to-a-user-or-user-group">
<a class="anchor" href="#applying-a-tag-to-a-user-or-user-group" aria-hidden="true"><span class="octicon octicon-link"></span></a>Applying a Tag to a User or User Group</h5>

<ol>
  <li>
    <p>Click <img src="../images/config-gear.png" alt="config gear"> (<strong>Configuration</strong>).</p>
  </li>
  <li>
    <p>Click the <strong>Access Control</strong> accordion, and select the user or group
that you want to tag.</p>
  </li>
  <li>
    <p>Click <img src="../images/1941.png" alt="1941">(<strong>Policy</strong>), then click
<img src="../images/1851.png" alt="1851">(<strong>Edit Tags</strong>).</p>
  </li>
  <li>
    <p>Select the appropriate customer tag to assign, then the value.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<p><strong>Note:</strong></p>

<p>When quotas are applied by both automate instance and tagging, the tagged values will have higher precedence.</p>

<h5 id="state-machines">
<a class="anchor" href="#state-machines" aria-hidden="true"><span class="octicon octicon-link"></span></a>State Machines</h5>

<p>The automate state machine processes an ordered list of states. It can ensure the successful completion of a step before the next step is run, permit steps to be retried, allow setting a maximum time to retry the state before exiting, and number of retries before exiting the state.
Before each state is executed, the <code class="language-plaintext highlighter-rouge">On_Entry</code> method is executed and after the state ends the <code class="language-plaintext highlighter-rouge">On_Exit</code> or <code class="language-plaintext highlighter-rouge">On_Error</code> method is executed based on how the state ends.</p>

<p>The following components make up a ManageIQ automate state machine:</p>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>On_Entry</td>
      <td>Method to run when entering the state. It enables you to execute an automate method to do some pre-processing before the state of the state machine is processed.</td>
    </tr>
    <tr>
      <td>On_Exit</td>
      <td>Method to run when exiting the state.</td>
    </tr>
    <tr>
      <td>On_Error</td>
      <td>Method to run if an error is encountered when running the state. It enables you to execute an automate method to do some final processing before the state machine finally exits (MIQ_ABORT) due to the error.</td>
    </tr>
    <tr>
      <td>Default Value</td>
      <td>Runs after the On_Entry method completes (The actual state being processed).</td>
    </tr>
    <tr>
      <td>Max Retries</td>
      <td>Maximum number of times to retry the state before exiting.</td>
    </tr>
    <tr>
      <td>Max Time</td>
      <td>Maximum time in seconds to retry the state before exiting.</td>
    </tr>
  </tbody>
</table>

<p>In the diagram below, you can see how these components combine to create
a state machine workflow.</p>

<p><strong>Note:</strong></p>

<p>The retry logic, <code class="language-plaintext highlighter-rouge">On_Entry</code> and <code class="language-plaintext highlighter-rouge">On_Error</code> are distinct cases in the program flow.</p>

<p><img src="../images/2353.png" alt="2353"></p>

<p><strong>Code snippet demonstrating the state machine retry logic:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Get current provisioning status
task = $evm.root['service_template_provision_task']
task_status = task['status']
result = task.status

Then check the result to see how it should proceed:

case result
when 'error'
  $evm.root['ae_result'] = 'error'
.....
when 'retry'
  $evm.root['ae_result'] = 'retry'
  $evm.root['ae_retry_interval'] = '1.minute'
when 'ok'
  $evm.root['ae_result'] = 'ok'
end

When the result is "retry", it sets:
  $evm.root['ae_result'] = 'retry'
  $evm.root['ae_retry_interval'] = '1.minute'
</code></pre></div></div>

<p>The following image shows a simple state machine pertaining to approving
a provision request. This instance can be found in
menu:Datastore[ManageIQ &gt; Infrastructure &gt; VM &gt; Provisioning &gt;
StateMachines &gt; ProvisioningRequestApproval &gt; Default].
<img src="../images/2354.png" alt="2354"></p>

<ol>
  <li>
    <p>The attribute <strong>max_vms</strong> has a value of 1. State machine
processing can use the attributes of the state machine instance to
make logic decisions. In this case, the <strong>validate_request</strong>
method, which is processed during the <strong>On_Entry</strong> portion of the
<strong>ValidateRequest</strong> state, evaluates the <strong>max_vms</strong> attribute. If
the number of virtual machines requested is less than the
<strong>max_vms</strong> value, the request can be auto-approved.</p>
  </li>
  <li>
    <p><strong>ValidateRequest</strong> is the first state to be executed.</p>
  </li>
  <li>
    <p><strong>ApproveRequest</strong> is the next state to be executed.</p>
  </li>
</ol>

<p><strong>Note:</strong></p>

<p>Grayed out items reflect values that are set in the class schema. These values can be overwritten on a per instance basis.</p>

<h5 id="customizing-provisioning-states">
<a class="anchor" href="#customizing-provisioning-states" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customizing Provisioning States</h5>

<p>The steps followed when provisioning a virtual machine or cloud instance are completed based on instances from the
menu:DOMAIN[Cloud|Infrastructure &gt; VM &gt; Provisioning &gt; StateMachines &gt; VMProvision_VM] class. Depending on your environment you can remove, change, or add steps to the provisioning process. For example, if you are not integrating with IPAM or a CMDB, then you can remove
those execution steps. <img src="../images/6281.png" alt="6281"></p>

<h5 id="editing-the-default-state-instance">
<a class="anchor" href="#editing-the-default-state-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing the Default State Instance</h5>

<ol>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>From the accordion menu, click menu:DOMAIN[Cloud &gt; VM &gt; Provisioning &gt; StateMachines &gt; VMProvision_VM].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

    <p>This example uses the <strong>Cloud</strong> Namespace, but can also use the <strong>Infrastructure</strong> namespace.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then <img src="../images/1851.png" alt="1851">(<strong>Edit this instance</strong>).
<img src="../images/6281.png" alt="6281"></p>
  </li>
  <li>
    <p>For each step that you want to remove, clear the entries in the <strong>Value</strong>, <strong>On Entry</strong>, <strong>On Exit</strong>, and <strong>On Error</strong> columns.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h5 id="viewing-the-status-of-a-provisioning-request">
<a class="anchor" href="#viewing-the-status-of-a-provisioning-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewing the Status of a Provisioning Request</h5>

<p>After a request has been approved, the various stages of fulfillment are executed. You can see the progress of the provisioning process by viewing its status.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Requests]. The list of requests is shown.</p>
  </li>
  <li>
    <p>Click on a specific request for more information. Once the provisioning begins, if the request was supposed to create more than one virtual machine or instance, a field will appear called <strong>Provisioned VMs</strong>. Click on the number that appears next to it for information on each of the individual provisions.</p>
  </li>
</ol>

<h5 id="viewing-a-provisioned-virtual-machine-or-instance">
<a class="anchor" href="#viewing-a-provisioned-virtual-machine-or-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewing a Provisioned Virtual Machine or Instance</h5>

<p>When a virtual machine or instance is created as a result of a provisioning request, its summary screen will show when it was provisioned in the <strong>Lifecycle</strong> area of the respective summary.</p>

<ol>
  <li>From menu:Services[Workloads], click the virtual machine or instance that you want to view. <img src="../images/2356.png" alt="2356">
</li>
</ol>

<h5 id="viewing-a-virtual-machine-or-instance-summary">
<a class="anchor" href="#viewing-a-virtual-machine-or-instance-summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewing a Virtual Machine or Instance Summary</h5>

<p>From menu:Services[Workloads], click the virtual machine or instance
that you want to view.</p>

<h2 id="catalogs-and-services">
<a class="anchor" href="#catalogs-and-services" aria-hidden="true"><span class="octicon octicon-link"></span></a>Catalogs and Services</h2>

<p>Through the use of catalogs, ManageIQ provides support for
multi-tier service provisioning to deploy layered workloads across
hybrid environments. You can create customized dialogs that will give
consumers of the services the ability to input just a few parameters and
provision the entire service. The following table lists the terminology
associated with catalogs that you will use within the
ManageIQ user interface for service provisioning.</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Catalog Bundle</td>
      <td>A group of templates.</td>
    </tr>
    <tr>
      <td>Catalog Item</td>
      <td>A single template.</td>
    </tr>
    <tr>
      <td>Template</td>
      <td>A template is a copy of a preconfigured virtual machine, designed to capture the installed software and software configurations, as well as the hardware configuration of the original virtual machine.</td>
    </tr>
    <tr>
      <td>Dialog Tabs</td>
      <td>Part of a service dialog.</td>
    </tr>
    <tr>
      <td>Element</td>
      <td>An item on a tab in a dialog. It can be a button, check box, drop down list, radio button, tag control, text area box, or a text box.</td>
    </tr>
    <tr>
      <td>Provisioning Dialogs</td>
      <td>Dialogs created for host provisioning, virtual machine migration, or virtual machine provisioning. The dialog name must be added to the appropriate provision instance to be processed.</td>
    </tr>
    <tr>
      <td>Service Catalog</td>
      <td>A catalog item or catalog bundle that is available for provisioning.</td>
    </tr>
    <tr>
      <td>Service Dialogs</td>
      <td>Made up of fully customizable tabs, items, and values for use with service provisioning.</td>
    </tr>
  </tbody>
</table>

<p>Terminology</p>

<h3 id="generic-objects">
<a class="anchor" href="#generic-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generic Objects</h3>

<p>Generic Objects are object-like entities, defined at runtime, that have
unique names and user-defined attributes and relationships. Residing in
the Automate Engine datastore, generic objects are designed to manage
objects other than those related to private infrastructure, and public
or private cloud providers.</p>

<p>Using automate requests, services and catalog items, generic objects can
be directly accessed or passed, during any step, as a parameter to a
service state machine. As a result, generic objects can be used to
quickly add the capability to provision and collect data on resources
not supported by ManageIQ.</p>

<h4 id="viewing-generic-objects-classes">
<a class="anchor" href="#viewing-generic-objects-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewing Generic Objects Classes</h4>

<p>View a list of generic objects and click through to see detailed summary
information for each object.</p>

<ol>
  <li>
    <p>Navigate to menu:Automate[Generic Objects].</p>
  </li>
  <li>
    <p>Click on a generic object class in the table to view its summary
information.</p>
  </li>
</ol>

<h4 id="creating-generic-objects-classes">
<a class="anchor" href="#creating-generic-objects-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Generic Objects Classes</h4>

<p>Model a new resource by creating a generic object class and adding it to
your ManageIQ inventory. Each generic object class can have
attributes, associations, and methods. Once created, generic object
classes are visible to users of the Self Service user interface at the
resource level.</p>

<p>Create a generic object class using the following steps:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Automation &gt; Automate &gt; Generic Objects</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
click <img src="../images/1862.png" alt="Add a New Generic Object Class"> (<strong>Add a
New Generic Object Class</strong>).</p>
  </li>
  <li>
    <p>Provide a <strong>Name</strong> and <strong>Description</strong> for the new object class.</p>
  </li>
  <li>
    <p>In the <strong>Attributes</strong> field, enter a <strong>Name</strong> and choose a <strong>Type</strong>
from the drop-down list. Click the <img src="../images/1848.png" alt="Add"> button
to add attributes.</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and select a <strong>Class</strong> for the object classs
<strong>Associations</strong>. Click the <img src="../images/1848.png" alt="Add"> button to
create additional associations.</p>
  </li>
  <li>
    <p>Provide a <strong>Name</strong> for the <strong>Methods</strong>. Click the
<img src="../images/1848.png" alt="Add"> button to add methods.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="editing-generic-object-classes">
<a class="anchor" href="#editing-generic-object-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing Generic Object Classes</h4>

<p>Edit existing generic object classes using the following steps:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Automation &gt; Automate &gt; Generic Objects</strong>.</p>
  </li>
  <li>
    <p>Click on a generic object class in the list view.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
click <img src="../images/1851.png" alt="Edit this Generic Object Class"> (<strong>Edit
this Generic Object Class</strong>).</p>
  </li>
  <li>
    <p>Make required changes to the generic object class fields.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h4 id="removing-generic-objects-classes">
<a class="anchor" href="#removing-generic-objects-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Removing Generic Objects Classes</h4>

<p>Remove generic object classes from your inventory using the following
steps:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Automation &gt; Automate &gt; Generic Objects</strong>.</p>
  </li>
  <li>
    <p>Check the generic objects classes from the table to remove.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
click <img src="../images/2098.png" alt="Remove selected Generic Object Classes from
Inventory"> (<strong>Remove selected Generic Object
Classes from Inventory</strong>).</p>
  </li>
  <li>
    <p>Click <strong>OK</strong> to confirm.</p>
  </li>
</ol>

<h4 id="exporting-generic-objects">
<a class="anchor" href="#exporting-generic-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exporting Generic Objects</h4>

<p>Export generic objects from ManageIQ to create a shared library.</p>

<p>Exporting a generic object requires the object has been created in
ManageIQ.</p>

<p>Procedure</p>

<ol>
  <li>
    <p>ssh to the ManageIQ appliance as <code class="language-plaintext highlighter-rouge">root</code>.</p>
  </li>
  <li>
    <p>Browse to <code class="language-plaintext highlighter-rouge">/var/www/miq/vmdb</code>:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># cd /var/www/miq/vmdb
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a temporary directory to store the generic object
definitions:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># mkdir tmp/generic_object_definitions
</code></pre></div>    </div>
  </li>
  <li>
    <p>Export the generic object definitions using the following <code class="language-plaintext highlighter-rouge">bin/rake</code>
command:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># bin/rake evm:export:generic_object_definitions -- --directory tmp/generic_object_definitions
</code></pre></div>    </div>
  </li>
</ol>

<p>Locate the exported yaml file containing the generic object properties
in the temporary folder.</p>

<h4 id="importing-generic-objects">
<a class="anchor" href="#importing-generic-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Importing Generic Objects</h4>

<p>Import generic objects to ManageIQ from a shared library.</p>

<p>Procedure</p>

<ol>
  <li>
    <p>ssh to the ManageIQ appliance as <code class="language-plaintext highlighter-rouge">root</code>.</p>
  </li>
  <li>
    <p>Browse to <code class="language-plaintext highlighter-rouge">/var/www/miq/vmdb</code>:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># cd /var/www/miq/vmdb
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a temporary directory to store the generic object
definitions:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># mkdir tmp/generic_object_definitions
</code></pre></div>    </div>
  </li>
  <li>
    <p>Copy the yaml file containing the generic object definitions to the
temporary folder:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># cp generic_objects.yaml tmp/generic_object_definitions
</code></pre></div>    </div>
  </li>
  <li>
    <p>Import the generic object definitions to the ManageIQ
appliance using the following <code class="language-plaintext highlighter-rouge">bin/rake</code> command:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code># bin/rake evm:import:generic_object_definitions -- --source tmp/generic_object_definitions
</code></pre></div>    </div>
  </li>
</ol>

<p>Confirm the generic objects have imported successfully by <a href="#view-generic-objects">Viewing
Generic Objects Classes</a> in the
ManageIQ user interface.</p>

<h3 id="service-dialogs">
<a class="anchor" href="#service-dialogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Dialogs</h3>

<p>When provisioning a service, input will be needed from the requester.
Service dialogs are used to take input from the user. This input is
connected to a method in the Automate model that defines how the users
input is translated into the provision request. Before creating a
service dialog, be sure to plan what items you need the user to input.</p>

<h4 id="adding-a-service-dialog">
<a class="anchor" href="#adding-a-service-dialog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding a Service Dialog</h4>

<div class="important">

  - When creating a service dialog for use with Ansible playbook catalog
    items, variable elements must use the prefix **param\_** when
    assigning the value. For example, a new variable labeled **key1**
    should have its value set as **param\_key1**.

  - Using Ansible playbooks to populate dynamic dialog fields is not
    recommended due to delay times caused by the overhead of interaction
    between systems.

  - If you add the playbook automate method to a service dialog, only
    users with admin privileges can run the dialog.

</div>

<p>ManageIQ includes a drag-and-drop service dialog editor to create
service dialogs. The editor, with its drag-and-drop feature, provides a
visual representation of the components that comprise a service dialog.
You can easily design your service dialog utilizing dialog tabs,
sections (previously referred to as boxes), and elements.</p>

<p>When users access a service, the majority of options available to them
are preset and cannot be altered. The requirements for the service
determine the options and fields that need to be present in the dialog
for user input. A service dialog exposes some of those options to the
user so that even if they are ordering a basic Red Hat Enterprise Linux
7 machine, for example, they can at least choose the amount of memory,
virtual CPUs, or other options available to the instance they order. In
cases where certain fields must be unique, such as the name of virtual
machines in Red Hat Virtualization, users must enter their own unique
name for the virtual machine they choose or the operation will fail, so
this field must be exposed.</p>

<p>A service dialog contains three components:</p>

<ul>
  <li>
    <p>One or more <strong>Tabs</strong>.</p>
  </li>
  <li>
    <p>Inside the tabs, one or more <strong>Sections</strong>. Note that in the previous
method of creating service dialogs using the ManageIQ
user interface, <strong>Sections</strong> were referred to as <strong>Boxes</strong>.</p>
  </li>
  <li>
    <p>Inside the sections, one or more <strong>Elements</strong>. Elements are controls
that accept input. Elements contain methods, like check boxes,
drop-down lists or text fields, to fill in the options on the
provisioning dialog.</p>
  </li>
</ul>

<p><strong>Important:</strong></p>

<p>The names of the elements must correspond to the options used in the provisioning dialog.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Automation &gt; Automate &gt; Customization</strong>.</p>
  </li>
  <li>
    <p>Click the <strong>Service Dialogs</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, and then
<img src="../images/1862.png" alt="1862"><strong>Add a new Dialog</strong>.</p>

    <p><img src="../images/edit-section1.png" alt="edit section1"></p>
  </li>
  <li>
    <p>Enter basic details under <strong>General</strong>:</p>

    <ol>
      <li>Enter the <strong>Dialogs name</strong> and <strong>Dialogs description</strong>.</li>
    </ol>
  </li>
  <li>
    <p>Add a new tab to the dialog:</p>

    <ol>
      <li>
        <p>Click <img src="../images/1862.png" alt="1862"><strong>Create Tab</strong>. Then, click the
<img src="../images/1851.png" alt="pencil">icon on the new tab to edit tab
information.</p>
      </li>
      <li>
        <p>Enter a <strong>Label</strong>.</p>
      </li>
      <li>
        <p>Optional: Enter a description for the tab in <strong>Description</strong>.</p>
      </li>
      <li>
        <p>Click <strong>Save</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Add a new section to the tab:</p>

    <ol>
      <li>
        <p>Click <img src="../images/1862.png" alt="1862"><strong>Add Section</strong>. Then, click the
<img src="../images/1851.png" alt="pencil">icon on the upper-right to edit
section details.</p>
      </li>
      <li>
        <p>Enter a <strong>Label</strong>.</p>
      </li>
      <li>
        <p>Optional: Enter a description for the section in
<strong>Description</strong>.</p>
      </li>
      <li>
        <p>Click <strong>Save</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Add elements to the section:</p>

    <ol>
      <li>
        <p>From the list of elements on the left, click an element you want
to add, then drag-and-drop it inside the section. Then, click
the <img src="../images/1851.png" alt="pencil">icon next to the element to edit
its field details.</p>

        <table>
          <thead>
            <tr>
              <th>Element Types</th>
              <th>Additional Info</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Text Area</td>
              <td>Provides text area for users to enter text. You can enter the default text in <strong>Default Value</strong>, or leave it as blank.</td>
            </tr>
            <tr>
              <td>Text Box</td>
              <td>Text box is similar to a text area with the added option to enable <strong>Protected</strong> so the text is shown as asterisks(*), instead of plain text.</td>
            </tr>
            <tr>
              <td>Check Box</td>
              <td>Enable <strong>Default Value</strong> if you want the box checked by default.</td>
            </tr>
            <tr>
              <td>Drop Down</td>
              <td>Use drop down to create list entries either manually or using automate methods. Enable <strong>Dynamic</strong> to create lists using automate methods; use <strong>Entry Point</strong> to select an automate instance. Enable <strong>Show Refresh Button</strong> to allow users to refresh list options manually.</td>
            </tr>
            <tr>
              <td>Radio Button</td>
              <td>Similar to a drop down but displays options using radio buttons.</td>
            </tr>
            <tr>
              <td>Datepicker</td>
              <td>Use this to enable users to pick a date by clicking the calendar icon.</td>
            </tr>
            <tr>
              <td>Timepicker</td>
              <td>use this to enable users to pick a date and time.</td>
            </tr>
            <tr>
              <td>Tag Control</td>
              <td>Select a <strong>Category</strong> of tags you want assigned to virtual machines associated with the service dialog. Enable <strong>Single Select</strong> if only one tag can be selected.</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>Enter a <strong>Label</strong>, <strong>Name</strong>, and <strong>Description</strong> for the
element.</p>

        <div class="important">

Element names must correspond to the options used in the provisioning dialog. **Name** must use only alphanumeric characters and underscores without spaces. It is also used to retrieve the value of this element in the method used with the
dialog and must start with **dialog\_service\_type**.

</div>
      </li>
      <li>
        <p>Optional: Add additional information in <strong>Help</strong> to assist the user to complete the fields in the service dialog. This field is useful for explaining unfamiliar terminology or providing configuration tips. This information is presented when you hover
over the [!] exclamation mark in the Service Dialog while ordering a Service Catalog later.</p>
      </li>
      <li>
        <p>Set other options as required.</p>
      </li>
      <li>
        <p>Click <strong>Save</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Optional: Repeat the above step to add more elements to the existing section, or create and add elements to a new section as required.</p>
  </li>
  <li>
    <p>Optional: Repeat the step to add a new tab to the dialog, and subsequent steps to add sections and elements to it as required.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong> to create the dialog.</p>
  </li>
</ol>

<p>The service dialog is now created, and added to the <strong>Service Dialogs</strong> accordion.</p>

<h5 id="creating-a-service-dialog-from-a-container-template">
<a class="anchor" href="#creating-a-service-dialog-from-a-container-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Service Dialog from a Container Template</h5>

<p>Complete the following procedure to create a Service Dialog from a
Container Template.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Containers &gt; Container Templates] and
select the template for provisioning.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1862.png" alt="1862">(<strong>Create Service Dialog from Container
Template</strong>).</p>
  </li>
  <li>
    <p>Enter a name for the dialog in <strong>Service Dialog Name</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<p>You can use this service dialog when creating a catalog item for
container template provisioning; see <a href="#create-container-template-catalog-item">Creating an OpenShift Template
Catalog Item</a>.</p>

<h5 id="importing-service-dialogs">
<a class="anchor" href="#importing-service-dialogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Importing Service Dialogs</h5>

<p>You can share service dialogs between appliances using the export and
import features.</p>

<ol>
  <li>
    <p>Navigate to menu:Automation[Automate &gt; Customization].</p>
  </li>
  <li>
    <p>In the <strong>Import/Export</strong> accordion, click <strong>Service Dialog
Import/Export</strong>.</p>
  </li>
  <li>
    <p>In the <strong>Import</strong> area, click <strong>Browse</strong> to select an import file.</p>
  </li>
  <li>
    <p>Click <strong>Upload</strong>.</p>
  </li>
</ol>

<h5 id="exporting-service-dialogs">
<a class="anchor" href="#exporting-service-dialogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exporting Service Dialogs</h5>

<p>You can share service dialogs between appliances using the export and
import features.</p>

<ol>
  <li>
    <p>Navigate to menu:Automation[Automate &gt; Customization].</p>
  </li>
  <li>
    <p>In the <strong>Import/Export</strong> accordion, click <strong>Service Dialog
Import/Export</strong>.</p>
  </li>
  <li>
    <p>In the <strong>Export</strong> area, select the service dialogs that you want to
export.</p>
  </li>
  <li>
    <p>Click <strong>Export</strong>.</p>
  </li>
</ol>

<h4 id="methods">
<a class="anchor" href="#methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h4>

<h5 id="creating-a-method-to-associate-with-the-dialog">
<a class="anchor" href="#creating-a-method-to-associate-with-the-dialog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Method to Associate with the Dialog</h5>

<p>You will need to create a method that connects the values in the dialog
with the provisioning request. The method should be created in the
<code class="language-plaintext highlighter-rouge">DOMAIN/Service/Provisioning/StateMachines/ServiceProvision_Template</code>
class of the <strong>Automate</strong> model.</p>

<p><strong>Note:</strong></p>

<p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

<p>A method is provided below that was created for the following scenario:</p>

<ul>
  <li>
    <p>You want to provision a three-tiered service that contains catalog
items of web, app and DB. Each of these virtual machines (or cloud
instances) has been tagged under the <strong>Service</strong> category with the
appropriate value. Then, added as a catalog item and combined into a
catalog bundle.</p>
  </li>
  <li>
    <p>The <strong>Service Dialog</strong> captures the selection of small, medium or
large application in a dropdown called <strong>service_type</strong>. When
referring to a value captured in an element in a dialog, the name of
the element should be prefixed with <strong>dialog_</strong>. For example,
<strong>service_type</strong> becomes <strong>dialog_service_type</strong> when used in the
method.</p>
  </li>
  <li>
    <p>The method will set the memory sizes for each of the catalog items
based on the <strong>service_type</strong> selection.</p>
  </li>
</ul>

<!-- end list -->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#            Automate Method
#
$evm.log("info", "Automate Method ConfigureChildDialog Started")
#
#            Method Code Goes here
#
$evm.log("info", "===========================================")
$evm.log("info", "Listing ROOT Attributes:")
$evm.root.attributes.sort.each { |k, v| $evm.log("info", "\t#{k}: #{v}")}
$evm.log("info", "===========================================")

stp_task = $evm.root["service_template_provision_task"]
$evm.log("info", "===========================================")
$evm.log("info", "Listing task Attributes:")
stp_task.attributes.sort.each { |k, v| $evm.log("info", "\t#{k}: #{v}")}
$evm.log("info", "===========================================")

#############################################################
#### This is how the method would look for dialog variables
#############################################################
dialog_service_type = $evm.root['dialog_service_type']
$evm.log("info","User selected Dialog option = [#{dialog_service_type}]")

stp_miq_request_task = stp_task.miq_request_task
#$evm.log("info","(parent) miq_request_task:  = [#{stp_miq_request_task}]")

#############################################################
#### This is how you get the catalog items for the catalog bundle
#############################################################

stp_miq_request_tasks = stp_task.miq_request_tasks
#$evm.log("info","(children) miq_request_tasks count:  = [#{stp_miq_request_tasks.count}]")

#############################################################
#### By going through the children, you can set the dialog variable for each of the children (we based our values on the childrens service tags)
#############################################################

stp_miq_request_tasks.each do |t|

  $evm.log("info"," Setting dialog for: #{t.description}")
  service = t.source
  service_resource = t.service_resource
  #$evm.log("info"," Child service resource name: #{service_resource.resource_name}")
  #$evm.log("info"," Child service resource description: #{service_resource.resource_description}")

  service_tag_array = service.tags(:app_tier)
  service_tag = service_tag_array.first.to_s

  memory_size = nil

#############################################################
#### The dialog_service_type is the attribute set on the service dialog
#### We use the service_tag to decide what child gets what dialog
#############################################################

  case dialog_service_type
  when "Small"
    case service_tag
    when "app"
      memory_size = 1024
    when "web"
      memory_size = 1024
    when "db"
      memory_size = 4096
    else
      $evm.log("info","Unknown Dialog type")
    end
  when "Large"
    case service_tag
    when "app"
      memory_size = 4096
    when "web"
      memory_size = 4096
    when "db"
      memory_size = 8192
    else
      $evm.log("info","Unknown Dialog type")
    end
  else
    $evm.log("info","Unknown Dialog type - setting Dialog options here")
  end

#############################################################
#### set_dialog_option sets the dialog for the child
#############################################################

  t.set_dialog_option('memory',memory_size) unless memory_size.nil?
  $evm.log("info","Set dialog for selection: [#{dialog_service_type}]  Service_Tier: [#{service_tag}] Memory size: [#{memory_size}]")

end
#
#
#
$evm.log("info", "Automate Method ConfigureChildDialog Ended")
exit MIQ_OK
</code></pre></div></div>

<h5 id="creating-a-method-in-the-service-class">
<a class="anchor" href="#creating-a-method-in-the-service-class" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Method in the Service Class</h5>

<p>Service methods have been split based on purpose.</p>

<ol>
  <li>
    <p>Navigate to menu:Automation[Automate &gt; Explorer].</p>
  </li>
  <li>
    <p>Service Class is located at menu:DOMAIN[Service &gt; Provisioning &gt;
StateMachines &gt; Methods] and menu:Domain[Service &gt; Retirement &gt;
StateMachines &gt; Methods].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>
  </li>
  <li>
    <p>Click the <strong>Methods</strong> tab.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Method</strong>).</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and <strong>Display Name</strong>.</p>
  </li>
  <li>
    <p>In the <strong>Data</strong> field, enter the method contents.</p>
  </li>
  <li>
    <p>Click <strong>Validate</strong> and wait for your data entry to be successfully
validated.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>. <img src="../images/6297.png" alt="6297"></p>
  </li>
</ol>

<h5 id="creating-an-instance-in-the-service-class">
<a class="anchor" href="#creating-an-instance-in-the-service-class" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Instance in the Service Class</h5>

<ol>
  <li>
    <p>Navigate to menu:Automation[Automate &gt; Explorer].</p>
  </li>
  <li>
    <p>Service Class is located at menu:DOMAIN[Service &gt; Provisioning &gt;
StateMachines &gt; Methods] and menu:Domain[Service &gt; Retirement &gt;
StateMachines &gt; Methods].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>
  </li>
  <li>
    <p>Click the <strong>Instances</strong> tab.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1862.png" alt="1862">(<strong>Add a new Instance</strong>).</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and <strong>Display Name</strong>.</p>
  </li>
  <li>
    <p>In the <strong>Fields</strong> area, enter the methods name in <strong>Value</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>The instance is created so that it can be called from the
<strong>ServiceProvision</strong> class.</p>

<p><img src="../images/6298.png" alt="6298"></p>

<p><strong>Note:</strong></p>

<p>After the method has been created, it must be mapped to an instance in the <code class="language-plaintext highlighter-rouge">DOMAIN/Service/Service/Provisioning/StateMachines</code> class. The name of the instance must be specified as the <strong>Entry Point</strong>. This method
must be called before the provision job begins.</p>

<h5 id="associating-a-method-with-an-automate-instance">
<a class="anchor" href="#associating-a-method-with-an-automate-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Associating a Method with an Automate Instance</h5>

<p>Service methods have been split based on purpose.</p>

<ol>
  <li>
    <p>Navigate to menu:Automation[Automate &gt; Explorer].</p>
  </li>
  <li>
    <p>From the accordion menu, click the required service method.</p>
  </li>
  <li>
    <p>Service Class is located at menu:DOMAIN[Service &gt; Provisioning &gt;
StateMachines &gt; Methods] and menu:Domain[Service &gt; Retirement &gt;
StateMachines &gt; Methods].</p>

    <p><strong>Note:</strong></p>

    <p><strong>DOMAIN</strong> must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>
  </li>
  <li>
    <p>Either create a new instance or select the <strong>clone_to_service</strong>
instance.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1851.png" alt="1851">(<strong>Edit Selected Instance</strong>).</p>
  </li>
  <li>
    <p>In the <strong>configurechilddialog</strong> value, put the path to the method.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong> or <strong>Add</strong> if you are adding this to a new instance.</p>
  </li>
</ol>

<h3 id="catalogs">
<a class="anchor" href="#catalogs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Catalogs</h3>

<p>Catalogs are used to create groups of virtual machines or instances for
provisioning. For example, a complete package of a database server,
desktop with specialized software already on it, and a firewall. You
will need to complete the following steps to create and provision a
service catalog.</p>

<ol>
  <li>
    <p>Create <strong>Catalog Items</strong> for each virtual machine or instance that
will be part of the service.</p>
  </li>
  <li>
    <p>Create a <strong>Service</strong> dialog. For example, create a dropdown with
three options small, medium, and large.</p>
  </li>
  <li>
    <p>Create a method for the Service Dialog. This method defines what
each of the options means to each of the individual virtual machines
or cloud instances for the service. This method is called from a
service provisioning instance in the Automate model.</p>
  </li>
  <li>
    <p>Create an instance in the
<code class="language-plaintext highlighter-rouge">DOMAIN/Service/Provisioning/StateMachines/ServiceProvision_Template</code>
class that calls the method.</p>

    <p><strong>Note:</strong></p>

    <p>DOMAIN must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>
  </li>
  <li>
    <p>Associate method with Automate instance.</p>
  </li>
  <li>
    <p>Create a <strong>Catalog Bundle</strong>, adding each of the catalog items to it.
Select the <strong>Service Dialog</strong> you created. Use the instance created
in the
<code class="language-plaintext highlighter-rouge">DOMAIN/Service/Provisioning/StateMachines/ServiceProvision_Template</code>
class as the <strong>Entry Point</strong>. Check <strong>Display in Catalog</strong> box.</p>
  </li>
  <li>
    <p>Provision a service.</p>
  </li>
</ol>

<h4 id="creating-a-catalog-bundle">
<a class="anchor" href="#creating-a-catalog-bundle" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Catalog Bundle</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs].</p>
  </li>
  <li>
    <p>Click the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), and then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Bundle</strong>).</p>
  </li>
  <li>
    <p>Enter a name and description for the bundle. Select <strong>Display in
Catalog</strong>.</p>
  </li>
  <li>
    <p>Select the required <strong>Catalog</strong>.</p>
  </li>
  <li>
    <p>Select the required <strong>Dialog</strong>.</p>
  </li>
  <li>
    <p>Select chargeback currency.</p>
  </li>
  <li>
    <p>Enter <strong>Price / Month</strong>.</p>
  </li>
  <li>
    <p>Select the provisioning and retirement entry points.</p>
  </li>
  <li>
    <p>Select <strong>Additional Tenants</strong>.</p>
  </li>
  <li>
    <p>Click on the <strong>Resources</strong> tab, then select the catalog item you
want to add to the bundle from the <strong>Add a Resource</strong> dropdown.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>A catalog bundle is created and visible in the <strong>Service Catalog</strong>
accordion.</p>

<p><strong>Note:</strong></p>

<p>You should also create and specify an Entry Point in the
<code class="language-plaintext highlighter-rouge">DOMAIN/Service/Provisioning/StateMachines/Methods/CatalogBundle</code> class for each catalog item that is part of a bundle. If you do not, then the pre and post provision processing will occur for each item in the bundle in addition to processing for the <strong>Catalog Bundle</strong>. To set the entry point, go into each <strong>Catalog Item</strong> and check <strong>Display in Catalog</strong>.
Then, you will see the <strong>Entry Point</strong> field.</p>

<h4 id="copying-a-catalog-bundle">
<a class="anchor" href="#copying-a-catalog-bundle" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copying a Catalog Bundle</h4>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs].</p>
  </li>
  <li>
    <p>Click the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Select the catalog bundle you want to copy from <strong>All Catalog Items</strong>.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), and then
<img src="../images/1851.png" alt="Edit_Sign">(<strong>Copy Selected Item</strong>).</p>
  </li>
  <li>
    <p>Enter a name for the copy of catalog bundle you are creating. Note that this name must not already be in use.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>A copy of the catalog bundle is saved. You can now select this new copy of the catalog bundle and edit as required by navigating to <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then clicking
<img src="../images/1851.png" alt="Edit_Sign">(<strong>Edit this Item</strong>).</p>

<h4 id="creating-a-catalog-item">
<a class="anchor" href="#creating-a-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Catalog Item</h4>

<p>Create a catalog item for each virtual machine or cloud instance that will be part of the service.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>.</p>
  </li>
  <li>
    <p>Click the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, and then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Item</strong>).</p>
  </li>
  <li>
    <p>Select the <strong>Catalog Item Type</strong> you are adding. This list only
shows items related to providers available or options activated in
the appliance (for example, <strong>Ansible Playbook</strong> is available as a
<strong>Catalog Item Type</strong> option if the Embedded Ansible server role is
enabled on the appliance).</p>
  </li>
  <li>
    <p>Enter a name and description for the bundle. Select <strong>Display in
Catalog</strong>.</p>
  </li>
  <li>
    <p>Select a <strong>Catalog</strong>.</p>
  </li>
  <li>
    <p>Select a <strong>Dialog</strong>.</p>

    <p><strong>Note:</strong></p>

    <p>You can only choose from the catalogs and dialogs you have already
created. If you havent done so, leave the values blank and edit
later.</p>
  </li>
  <li>
    <p>Select a <strong>Zone</strong>.</p>
  </li>
  <li>
    <p>Select the chargeback currency.</p>
  </li>
  <li>
    <p>Enter <strong>Price / Month</strong>.</p>
  </li>
  <li>
    <p>Select the catalog items <strong>Subtype</strong>.</p>
  </li>
  <li>
    <p>Select the provisioning and retirement entry points, that is the
Automate instance to run upon provisioning and retirement.</p>

    <p><strong>Note:</strong></p>

    <p>The entry point must be a State Machine since the <strong>Provisioning
Entry Point</strong> list is filtered to only show State Machine class
instances. No other entry points will be available from the
<strong>Provisioning Entry Point</strong> field.</p>
  </li>
  <li>
    <p>Select <strong>Additional Tenants</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="copying-a-catalog-item">
<a class="anchor" href="#copying-a-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copying a Catalog Item</h4>

<p><strong>Note:</strong></p>

<p>When copying a catalog item for reuse, you must click <strong>Display in Catalog</strong> in the copied catalog item for the item to appear in the catalog.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs].</p>
  </li>
  <li>
    <p>Click the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Select the catalog item you want to copy from <strong>All Catalog Items</strong>.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), and then
<img src="../images/1851.png" alt="Edit_Sign">(<strong>Copy Selected Item</strong>).</p>
  </li>
  <li>
    <p>Enter a name for the copy of catalog item you are creating. Note that this name must not already be in use.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>A copy of the catalog item is saved. You can now select this new copy of the catalog item and edit as required by navigating to <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then clicking
<img src="../images/1851.png" alt="Edit_Sign">(<strong>Edit this Item</strong>).</p>

<h4 id="creating-a-generic-catalog-item">
<a class="anchor" href="#creating-a-generic-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Generic Catalog Item</h4>

<p>Create generic catalog items for services non-specific to virtualization
or cloud environments. This catalog item type can serve a wide array of
needs, from creating a vLAN across a network to accessing virtual
machine IP addresses and adding them to a load balancer pool.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Service &gt; Catalogs</strong>.</p>
  </li>
  <li>
    <p>Click the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, and then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Item</strong>).</p>
  </li>
  <li>
    <p>Select <strong>Generic</strong> from the Catalog Item Type list.</p>
  </li>
  <li>
    <p>In the <strong>Basic Info</strong> subtab:</p>

    <ol>
      <li>
        <p>Type a <strong>Name/Description</strong>.</p>
      </li>
      <li>
        <p>Check <strong>Display in Catalog</strong> to display the item in the catalog.
A <strong>Dialog</strong> will be required if you select <strong>Display in
Catalog</strong>.</p>
      </li>
      <li>
        <p>Choose a <strong>Catalog</strong> to which to add the new item.</p>
      </li>
      <li>
        <p>Select a <strong>Dialog</strong> from the available options.</p>
      </li>
      <li>
        <p>Choose a <strong>Subtype</strong> from the list menu.</p>
      </li>
      <li>
        <p>Add <strong>Entry Point(NS/Cls/Inst)</strong> options.</p>

        <ol>
          <li>
            <p><strong>Provisioning Entry Point (Domain/NS/Cls/Inst)</strong> requires
you to select an Automate instance to run upon provisioning.</p>
          </li>
          <li>
            <p><strong>Retirement Entry Point (Domain/NS/Cls/Inst)</strong> requires you
to select an Automate instance to run upon retirement.</p>

            <p><strong>Note:</strong></p>

            <p>The entry point must be a State Machine since the <strong>Provisioning Entry Point</strong> list is filtered to only show State Machine class instances. No other entry points will be
available from the <strong>Provisioning Entry Point</strong> field.</p>
          </li>
        </ol>
      </li>
    </ol>
  </li>
  <li>
    <p>In the <strong>Details</strong> subtab, write a <strong>Long Description</strong> for the catalog item.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-an-ansible-playbook-service-catalog-item">
<a class="anchor" href="#creating-an-ansible-playbook-service-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Ansible Playbook Service Catalog Item</h4>

<p>Create a catalog item that uses an Ansible Playbook to back it.</p>

<p><strong>Note:</strong></p>

<ul>
  <li>
    <p>Before creating an Ansible service, at least one repository, one playbook, and one credential must exist in the ManageIQ inventory. Check your inventory and add the appropriate resources before creating an Ansible service. For more information, see <a href="../managing_providers/index.html#automation-management-providers">Automation Management Providers</a> in <em>Managing Providers</em>.</p>
  </li>
  <li>
    <p>Debugging verbosity is available for Ansible playbook catalog items.
Selecting a higher verbosity value provides more detailed output as
the playbook executes. <strong>0 (Normal)</strong> is the default value. <strong>1
(Verbose)</strong> will yield return data while a value of <strong>3 (Debug)</strong>
provides connection attempt and task invocation details. Higher
levels, such as <strong>4 (Connection)</strong> can be useful for debugging SSH
connections. Use <strong>5 (WinRM Debug)</strong> when debugging WinRM
connections.</p>
  </li>
  <li>
    <p>Using Ansible playbooks to populate dynamic dialog fields is not
recommended due to delay times caused by the overhead of interaction
between systems.</p>
  </li>
  <li>
    <p>Only users with administrator privileges can run a service dialog
based on a playbook.</p>
  </li>
</ul>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &lt; Catalogs</strong>.</p>
  </li>
  <li>
    <p>In the <strong>Catalog Items</strong> accordion, click on the <strong>All Catalog Items</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Item</strong>).</p>
  </li>
  <li>
    <p>Select <strong>Ansible Playbook</strong> from the <strong>Catalog Item Type</strong> drop-down
list.</p>
  </li>
  <li>
    <p>Type a <strong>Name</strong> and <strong>Description</strong> for the new service catalog
item.</p>
  </li>
  <li>
    <p>Click <strong>Display in Catalog</strong>.</p>
  </li>
  <li>
    <p>Select the appropriate <strong>Catalog</strong> from the drop-down list.</p>
  </li>
  <li>
    <p>In the <strong>Provisioning</strong> tab, set parameters for your catalog item to
use by configuring a Playbook to back your service item:</p>

    <ol>
      <li>
        <p>Choose a <strong>Repository</strong> from the drop-down list.</p>
      </li>
      <li>
        <p>Select the <strong>Ansible Playbook</strong> to use.</p>
      </li>
      <li>
        <p>Assign the appropriate <strong>Machine Credentials</strong> from the
drop-down list.</p>
      </li>
      <li>
        <p>Add <strong>Cloud</strong> or <strong>Network Credentials</strong> from the drop-down
lists.</p>
      </li>
      <li>
        <p>Choose the <strong>Host</strong> against which to run the service item.</p>
      </li>
      <li>
        <p>Set the <strong>Max TTL</strong> in minutes. The Time To Live (TTL) field
allows you to set the maximum execution time for the playbook to
run.</p>
      </li>
      <li>
        <p>Use the <strong>Escalate Privilege</strong> toggle switch to enable user
privilege escalation if called for in credentials during the
playbook run.</p>
      </li>
      <li>
        <p>Choose a <strong>Verbosity</strong> value to set the debug level for playbook
execution.</p>
      </li>
      <li>
        <p>Add key value pairs for <strong>Variables</strong> and their corresponding
<strong>Default Values</strong>.</p>
      </li>
      <li>
        <p>In the <strong>Dialog</strong> options, choose an existing dialog from the
<strong>Use Existing</strong> drop-down list or select <strong>Create New</strong> to add
a new dialog.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>In the <strong>Retirement</strong> tab, set parameters for your catalog item to
use by selecting values for the following:</p>

    <ol>
      <li>
        <p>Choose a <strong>Repository</strong> from the drop-down list.</p>
      </li>
      <li>
        <p>Select the <strong>Ansible Playbook</strong> to use.</p>
      </li>
      <li>
        <p>Assign the appropriate <strong>Machine Credentials</strong> from the
drop-down list.</p>
      </li>
      <li>
        <p>Add <strong>Cloud</strong> or <strong>Network Credentials</strong> from the drop-down
lists.</p>
      </li>
      <li>
        <p>Choose the <strong>Host</strong> against which to run the service item.</p>
      </li>
      <li>
        <p>Set the <strong>Max TTL</strong> in minutes. The Time To Live (TTL) field
allows you to set the maximum execution time for the playbook to
run.</p>
      </li>
      <li>
        <p>Use the <strong>Escalate Privilege</strong> toggle switch to enable user
privilege escalation if called for in credentials during the
playbook run.</p>
      </li>
      <li>
        <p>Choose a <strong>Verbosity</strong> value to set the debug level for playbook
execution.</p>
      </li>
      <li>
        <p>Add key value pairs for <strong>Variables</strong> and their corresponding
<strong>Default Values</strong>.</p>
      </li>
      <li>
        <p>In the <strong>Dialog</strong> options, choose an existing dialog from the
<strong>Use Existing</strong> drop-down list or select <strong>Create New</strong> to add
a new dialog.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-an-ansible-tower-service-catalog-item">
<a class="anchor" href="#creating-an-ansible-tower-service-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Ansible Tower Service Catalog Item</h4>

<p>Create a service catalog item from an Ansible Tower template you can use
to execute an Ansible Tower playbook in ManageIQ.</p>

<div class="important">

You must first create the job or workflow template in Ansible Tower. The
job or workflow templates are automatically discovered by
ManageIQ when refreshing your Ansible Tower providers inventory.

</div>

<p>First, create a catalog:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="Add a New Catalog"> (<strong>Add a New Catalog</strong>)</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the catalog.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<p>Then, create an Ansible Tower service catalog item:</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Automation &lt; Ansible Tower &lt; Explorer</strong>, then click
on the <strong>Templates</strong> accordion menu.</p>
  </li>
  <li>
    <p>Click <strong>Ansible Tower Templates</strong> and select an Ansible Tower job or
workflow template.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="Create Service Dialog from Template"> (<strong>Create
Service Dialog from this Template</strong>).</p>
  </li>
  <li>
    <p>Enter a <strong>Service Dialog Name</strong> (for example,
<em>ansible_tower_job</em>)and click <strong>Save</strong>.</p>
  </li>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>. Click <strong>Catalog Items</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="Add a New Catalog Item"> (<strong>Add a New Catalog
Item</strong>) to create a new catalog item with the following details, at
minimum:</p>

    <ul>
      <li>
        <p>For <strong>Catalog Item type</strong>, select <strong>Ansible Tower</strong>.</p>
      </li>
      <li>
        <p>Enter a <strong>Name</strong> for the service catalog item.</p>
      </li>
      <li>
        <p>Select <strong>Display in Catalog</strong>.</p>
      </li>
      <li>
        <p>In <strong>Catalog</strong>, select the catalog you created previously.</p>
      </li>
      <li>
        <p>In <strong>Dialog</strong>, select the service dialog you created previously
(in this example, <em>ansible_tower_job</em>). To ask the user to
enter extra information when running the task, <strong>Service
Dialog</strong> must be selected. A dialog is required if <strong>Display in
Catalog</strong> is chosen.</p>
      </li>
      <li>
        <p>In <strong>Provider</strong>, select your Ansible Tower provider. This brings
up the <strong>Ansible Tower Template</strong> option and configures the
<strong>Provisioning Entry Point State Machine</strong> automatically.</p>
      </li>
      <li>
        <p>Add configuration information for <strong>Reconfigure Entry Point</strong>
and <strong>Retirement Entry Point</strong> as applicable.</p>
      </li>
      <li>
        <p>Select your desired <strong>Ansible Tower Template</strong> from the list.
Generally, this is the Ansible Tower job or workflow template
previously used to create the service dialog.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>. The catalog item you created will appear in the <strong>All
Service Catalog Items</strong> list.</p>
  </li>
</ol>

<h4 id="creating-an-amazon-service-catalog-item">
<a class="anchor" href="#creating-an-amazon-service-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Amazon Service Catalog Item</h4>

<p>Use the following procedure to create an Amazon catalog item. Once
created, the catalog item and service dialog combine with all of the
options in the provisioning dialog. Users can then order Red Hat
Enterprise Linux instances from the <strong>Service Catalog</strong> in the
ManageIQ Service user interface.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>, then click on the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then <img src="../images/1862.png" alt="1862"><strong>Add a New Catalog Item</strong>.</p>
  </li>
  <li>
    <p>Select <strong>Amazon</strong> from the <strong>Catalog Item Type</strong> list.</p>
  </li>
  <li>
    <p>Enter the basic details in the <strong>Basic Info</strong> tab:</p>

    <ol>
      <li>
        <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the new service catalog
item.</p>
      </li>
      <li>
        <p>Select <strong>Display in Catalog</strong>.</p>
      </li>
      <li>
        <p>Select the appropriate catalog from the <strong>Catalog</strong> list.</p>
      </li>
      <li>
        <p>Select the appropriate service dialog from the <strong>Dialog</strong> list.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Request Info</strong> tab to enter request details:</p>

    <ol>
      <li>
        <p>On the <strong>Catalog</strong> tab, select your Amazon AWS image name from
the <strong>Name</strong> list, and the number of instances from the
<strong>Count</strong> list. The <strong>VM Name</strong> will be overwritten during the
provisioning process, but you can enter it as <em>changeme</em> for
now.</p>
      </li>
      <li>
        <p>On the <strong>Properties</strong> tab, select <em>T2 Micro</em> from the <strong>Instance
Type</strong> list, and <em>Basic</em> or <em>Advanced</em> for <strong>CloudWatch</strong>. If
you plan to access the instance, select a <strong>Guest Access Key
Pair</strong>, too.</p>
      </li>
      <li>
        <p>On the <strong>Customize</strong> tab, set the <strong>Root Password</strong> under
<strong>Credentials</strong>, then select the <em>Basic root pass template</em> as a
script for cloud-init under <strong>Customize Template</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-an-azure-service-catalog-item">
<a class="anchor" href="#creating-an-azure-service-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Azure Service Catalog Item</h4>

<p>Use the following procedure to create an Azure catalog item.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>, then click on the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Item</strong>).</p>
  </li>
  <li>
    <p>Select <strong>Azure</strong> from the <strong>Catalog Item Type</strong> list.</p>
  </li>
  <li>
    <p>Enter the basic details in the <strong>Basic Info</strong> tab:</p>

    <ol>
      <li>
        <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the new service catalog
item.</p>
      </li>
      <li>
        <p>Select <strong>Display in Catalog</strong>.</p>
      </li>
      <li>
        <p>Select the appropriate catalog from the <strong>Catalog</strong> list.</p>
      </li>
      <li>
        <p>Select the appropriate service dialog from the <strong>Dialog</strong> list.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click the <strong>Request Info</strong> tab to enter request details:</p>

    <ol>
      <li>
        <p>On the <strong>Catalog</strong> tab, select your Azure image name from the
<strong>Name</strong> list, and the number of instances from the <strong>Count</strong>
list. The <strong>VM Name</strong> will be overwritten during the
provisioning process, but you can enter it as <em>changeme</em> for
now.</p>
      </li>
      <li>
        <p>Select appropriate <strong>Environment</strong> settings that are known to
work for your Azure environment.</p>
      </li>
      <li>
        <p>On the <strong>Customize</strong> tab, set the <strong>Username</strong> and <strong>Password</strong>
under <strong>Credentials</strong>, then select the appropriate script under
<strong>Customize Template</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-an-openshift-template-catalog-item">
<a class="anchor" href="#creating-an-openshift-template-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an OpenShift Template Catalog Item</h4>

<p><strong>Note:</strong></p>

<p>Before adding a new catalog item for container template provisioning,
create a service dialog from a container template. See
<a href="#creating-a-service-dialog-from-container-template">Creating a Service Dialog from Container Template</a> for details.</p>

<p>Complete the following procedure to create an OpenShift Template catalog item.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Service &gt; Catalogs</strong>, then click on the <strong>Catalog Items</strong> accordion.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
<img src="../images/1862.png" alt="1862">(<strong>Add a New Catalog Item</strong>).</p>
  </li>
  <li>
    <p>Select <strong>OpenShift Template</strong> from the <strong>Catalog Item Type</strong> list.</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the new service catalog
item. Select <strong>Display in Catalog</strong>.</p>
  </li>
  <li>
    <p>Select the appropriate catalog from the <strong>Catalog</strong> list.</p>
  </li>
  <li>
    <p>From the <strong>Dialog list</strong>, select the service dialog you have created
from a container template.</p>
  </li>
  <li>
    <p>Select your provider from the <strong>Provider</strong> list.</p>
  </li>
  <li>
    <p>Set the <strong>Provisioning Entry Point</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-an-orchestration-catalog-item">
<a class="anchor" href="#creating-an-orchestration-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Orchestration Catalog Item</h4>

<p>Use the following procedure to create an Orchestration catalog item.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong> and select <strong>Catalog Items</strong>
in the accordion menu.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then
click <img src="../images/1848.png" alt="Green_Plus_Sign"> <strong>Add a New Catalog
Item</strong>. The <strong>Adding a new Service Catalog Item</strong> window is
displayed.</p>
  </li>
  <li>
    <p>Select <strong>Orchestration</strong> from the <strong>Catalog Item Type</strong> list.</p>
  </li>
  <li>
    <p>Enter the basic details in the <strong>Basic Info</strong>:</p>

    <ol>
      <li>
        <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the new service catalog
item.</p>
      </li>
      <li>
        <p>Select <strong>Display in Catalog</strong> box.</p>
      </li>
      <li>
        <p>Select the appropriate catalog from the <strong>Catalog</strong> list.</p>
      </li>
      <li>
        <p>Select the appropriate dialog from the <strong>Dialog</strong> list.</p>
      </li>
      <li>
        <p>Select the <strong>Orchestration Template</strong> from the list.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="creating-a-vmware-content-library-ovf-template-catalog-item">
<a class="anchor" href="#creating-a-vmware-content-library-ovf-template-catalog-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a VMware Content Library OVF Template Catalog Item</h4>

<p>Use the following procedure to create a VMware Content Library OVF Template catalog item.</p>

<p><strong>Note:</strong></p>

<p>Before you create the catalog item, make sure you have added a VMware vCenter Provider, and create a Service Dialog.
See <a href="../managing_providers/index.html#adding-a-vmware-vcenter-provider">Adding a VMware vCenter Provider</a> and <a href="../creating_a_service_for_vm_provisioning/index.html#creating-a-service-dialog">Creating a Service Dialog</a> for more information.</p>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong> and select <strong>Catalog Items</strong> in the accordion menu.</p>
  </li>
  <li>
    <p>Click <strong>Configuration</strong>, then click <img src="../images/1848.png" alt="Green_Plus_Sign"> <strong>Add a New Catalog Item</strong>. The <strong>Adding a new Service Catalog Item</strong> window is displayed.</p>
  </li>
  <li>
    <p>Select <strong>VMware Content Library OVF Template</strong> from the <strong>Catalog Item Type</strong> list.</p>
  </li>
  <li>
    <p>Enter the values in the <strong>Basic Info</strong>:</p>

    <ol>
      <li>
        <p>Enter a <strong>Name</strong> and <strong>Description</strong> for the new service catalog item.</p>
      </li>
      <li>
        <p>Select <strong>Display in Catalog</strong> box.</p>
      </li>
      <li>
        <p>Select the appropriate catalog from the <strong>Catalog</strong> list.</p>
      </li>
      <li>
        <p>Select the appropriate dialog from the <strong>Dialog</strong> list.</p>
      </li>
      <li>
        <p>Select the <strong>OVF Template</strong> that you want to use for the deployment.</p>
      </li>
      <li>
        <p>Enter a <strong>VM Name</strong>.</p>
      </li>
      <li>
        <p>Select the <strong>Accept EULA</strong> box.</p>
      </li>
      <li>
        <p>Select the <strong>Resource Pool</strong>.</p>
      </li>
      <li>
        <p>Optional: Select the <strong>Folder</strong> and the <strong>Host</strong>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="provisioning-a-service">
<a class="anchor" href="#provisioning-a-service" aria-hidden="true"><span class="octicon octicon-link"></span></a>Provisioning a Service</h4>

<ol>
  <li>
    <p>Browse to menu: <strong>Services &gt; Catalogs</strong>.</p>
  </li>
  <li>
    <p>Click the <strong>Service Catalogs</strong> accordion, and select the service to provision.</p>
  </li>
  <li>
    <p>Click <strong>Order</strong>.</p>
  </li>
  <li>
    <p>On the <strong>Order Service</strong> screen, select the box for <strong>Do you want to continue?</strong> and click <strong>Submit</strong>.</p>
  </li>
</ol>

<p>The parameters are passed to the children based on the method tied to
the choices made in the dialog.</p>

<h3 id="orchestration-stacks">
<a class="anchor" href="#orchestration-stacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Orchestration Stacks</h3>

<p>Cloud orchestration is a service that allows you to create, update, and manage cloud resources and their software components as a single unit and then deploy them in an automated, repeatable way through a template.
Templates use a human-readable syntax and can be defined in text files, thereby allowing users to check them into version control. Templates allow you to easily deploy and reconfigure infrastructure for applications within your cloud. A user can author the stack templates, or can upload them from other sources.</p>

<p>ManageIQ supports adding Amazon CloudFormation, OpenStack Heat, Microsoft Azure, VNF, and VMware vApp template type, and provides the ability to:</p>

<ul>
  <li>
    <p>Inventory stacks and elements of each type into the
ManageIQ VMDB.</p>
  </li>
  <li>
    <p>Model the relationships of instances to their stacks, inclusive of the user interface. For example, selecting an instance within a region that is within a stack, the user interface shows this on the standard instance view.</p>
  </li>
  <li>
    <p>Model the stack and its elements in the user interface.</p>
  </li>
</ul>

<p><strong>Note:</strong></p>

<p>When importing a template into ManageIQ, the selected elements are converted according to their type. For example, lists convert to list boxes, and single items convert to text boxes.</p>

<h4 id="creating-an-orchestration-template">
<a class="anchor" href="#creating-an-orchestration-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating an Orchestration Template</h4>

<p>Complete the following procedure to add an orchestration template.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs] and select <strong>Orchestration Templates</strong> in the accordion menu.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="Configuration"><strong>Configuration</strong>, then
click <img src="../images/1848.png" alt="Green_Plus_Sign"><strong>Create a new Orchestration Template</strong>.</p>
  </li>
  <li>
    <p>Enter a <strong>Name</strong> and <strong>Description</strong> for your template.</p>
  </li>
  <li>
    <p>Select the template type from the <strong>Template Type</strong> list. The default is Amazon CloudFormation.</p>
  </li>
  <li>
    <p>Select <strong>Draft</strong> to create a draft template.</p>
  </li>
  <li>
    <p>Add your template in the area below for the selected <strong>Template Type</strong>.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="editing-orchestration-templates">
<a class="anchor" href="#editing-orchestration-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing Orchestration Templates</h4>

<p>Complete the following procedure to edit orchestration templates.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs] and select <strong>Orchestration Templates</strong> in the accordion menu.</p>
  </li>
  <li>
    <p>Select the orchestration template you want to edit from the <strong>All Orchestration Templates</strong> list.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="Configuration"><strong>Configuration</strong>, then
click <img src="../images/1851.png" alt="Edit_Sign"><strong>Edit this Orchestration Template</strong>.</p>
  </li>
  <li>
    <p>Edit the template as needed.</p>

    <p><strong>Note:</strong></p>

    <p>You can only edit the name and description of a read-only template as there can be stacks associated with the template.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<h4 id="copying-orchestration-templates">
<a class="anchor" href="#copying-orchestration-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copying Orchestration Templates</h4>

<p>Complete the following procedure to copy an orchestration template to create a new template.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs] and select <strong>Orchestration Templates</strong> in the accordion menu.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="Configuration"><strong>Configuration</strong>, then
click <img src="../images/1859.png" alt="Copy"> <strong>Copy this Orchestration Template</strong>.</p>
  </li>
  <li>
    <p>Change the <strong>Description</strong> and the actual content of the template as required. ManageIQ automatically prefixes <em>Copy of</em> to the old template <strong>Name</strong>.</p>

    <p><strong>Note:</strong></p>

    <p>To create a copy of an orchestration template into a new template, the old and new template content must differ.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="deleting-orchestration-templates">
<a class="anchor" href="#deleting-orchestration-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deleting Orchestration Templates</h4>

<p>Complete the following procedure to delete orchestration templates.</p>

<ol>
  <li>
    <p>Navigate to menu:Services[Catalogs] and select <strong>Orchestration Templates</strong> in the accordion menu.</p>
  </li>
  <li>
    <p>Select the orchestration template you want to delete from the <strong>All Orchestration Templates</strong> list.</p>
  </li>
  <li>
    <p>Click <img src="../images/1848.png" alt="Configuration"><strong>Configuration</strong>, then click <img src="../images/1861.png" alt="Delete"><strong>Remove this Orchestration Template from Inventory</strong>.</p>
  </li>
  <li>
    <p>Click <strong>OK</strong>.</p>
  </li>
</ol>

<p><strong>Note:</strong></p>

<p>Read-only templates cannot be deleted.</p>

<h2 id="retirement">
<a class="anchor" href="#retirement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retirement</h2>

<h3 id="retiring-virtual-machines">
<a class="anchor" href="#retiring-virtual-machines" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retiring Virtual Machines</h3>

<h4 id="retiring-virtual-machines-and-instances">
<a class="anchor" href="#retiring-virtual-machines-and-instances" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retiring Virtual Machines and Instances</h4>

<p>When a virtual machine or instance is no longer required, it can be
retired. Once a virtual machine or instance reaches its retirement date,
it is immediately shut down and not allowed to restart. If an attempt to
restart is made, ManageIQ will shut down the virtual machine or
instance.</p>

<p>There are three built-in policies involved with retirement:</p>

<ul>
  <li>
    <p>If the virtual machine or instance reaches its retirement date, it
will be stopped even if it is running.</p>
  </li>
  <li>
    <p>If a retired virtual machine or instance is requested to start
through ManageIQ, the virtual machine or instance will not be
allowed to start.</p>
  </li>
  <li>
    <p>If a provider starts a retired virtual machine or instance outside
of ManageIQ, the virtual machine or instance will be stopped.</p>
  </li>
</ul>

<p>ManageIQ provides a number of ways to retire a virtual machine or
instance:</p>

<ul>
  <li>
    <p>By using the allocated buttons in the ManageIQ console.</p>
  </li>
  <li>
    <p>When creating a provision request, a retirement date can be set up.</p>
  </li>
</ul>

<h4 id="using-the-console-to-retire-a-virtual-machine">
<a class="anchor" href="#using-the-console-to-retire-a-virtual-machine" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the Console to Retire a Virtual Machine</h4>

<p>Through the ManageIQ console, you can retire a virtual machine on
a specific date or immediately.</p>

<h4 id="retiring-a-virtual-machine-immediately">
<a class="anchor" href="#retiring-a-virtual-machine-immediately" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retiring a Virtual Machine Immediately</h4>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines].</p>
  </li>
  <li>
    <p>Select the virtual machine or instance that you want to retire.</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), then
<img src="../images/2010.png" alt="2010">(<strong>Retire this VM/Instance</strong>).</p>
  </li>
</ol>

<p>The virtual machine or instance is immediately stopped, and will be shut
down if an attempt is made to restart it.</p>

<h4 id="setting-a-retirement-date-and-time-for-a-virtual-machine-or-instance">
<a class="anchor" href="#setting-a-retirement-date-and-time-for-a-virtual-machine-or-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting a Retirement Date and Time for a Virtual Machine or Instance</h4>

<p>You can schedule virtual machine retirement by specifying a date and
time, or by selecting a relative time a number of months, weeks, days or
hours ahead of the present time.</p>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines].</p>
  </li>
  <li>
    <p>Select the virtual machine or instance that you want to set a
retirement date for.</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), then
<img src="../images/2010.png" alt="2010">(<strong>Set Retirement Dates</strong>).</p>
  </li>
  <li>
    <p>From <strong>Enter Retirement Date as</strong>, select <strong>Specific Date and Time</strong>
or <strong>Time Delay from Now</strong> to schedule retirement.</p>

    <ol>
      <li>
        <p>To choose a <strong>Specific Date and Time</strong>, click the <strong>Retirement
Date and Time</strong> field to open the calendar.</p>

        <ol>
          <li>
            <p>Select a retirement date using the calendar control.</p>
          </li>
          <li>
            <p>Click <img src="../images/clock.png" alt="clock"> then select a retirement
time (in UTC) using the arrows.</p>
          </li>
        </ol>
      </li>
      <li>
        <p>To retire the virtual machine using a relative time, select
<strong>Time Delay from Now</strong>.</p>

        <ol>
          <li>From <strong>Time Delay</strong>, specify a retirement time any number of
months, weeks, days, or hours in the future using the
arrows.</li>
        </ol>
      </li>
    </ol>
  </li>
  <li>
    <p>Select a <strong>Retirement Warning</strong> if desired.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>.</p>
  </li>
</ol>

<p>The scheduled retirement date and time display in the virtual machine
summary screen.</p>

<h4 id="removing-a-retirement-date-for-a-virtual-machine-or-instance">
<a class="anchor" href="#removing-a-retirement-date-for-a-virtual-machine-or-instance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Removing a Retirement Date for a Virtual Machine or Instance</h4>

<ol>
  <li>
    <p>Navigate to menu:Compute[Infrastructure &gt; Virtual Machines].</p>
  </li>
  <li>
    <p>Select the virtual machine or instance that you want to remove the
retirement date from.</p>
  </li>
  <li>
    <p>Click <img src="../images/2007.png" alt="2007">(<strong>Lifecycle</strong>), then click
<img src="../images/2010.png" alt="2010">(<strong>Set Retirement Date</strong>).</p>
  </li>
  <li>
    <p>Click <img src="../images/remove-retirement-date.png" alt="remove retirement date">
to remove the retirement date.</p>
  </li>
</ol>

<h3 id="setting-retirement-in-a-provision-request">
<a class="anchor" href="#setting-retirement-in-a-provision-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Retirement in a Provision Request</h3>

<p>If you are using ManageIQ to provision, you can set when you want
retirement in the provision request. To see how to create a request, see
<a href="../provisioning_virtual_machines_and_hosts/#provisioning-requests">Provisioning Requests</a>. A warning email will be sent to the owner
before the retirement.</p>

<h4 id="scheduling-retirement-in-a-provision-request">
<a class="anchor" href="#scheduling-retirement-in-a-provision-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scheduling Retirement in a Provision Request</h4>

<p>When provisioning a cloud instance or virtual machine, a multi-tabbed
screen appears where you can set up your provision requests.</p>

<ol>
  <li>
    <p>Click the <strong>Schedule</strong> tab to set when to provision your request and
the lifespan of the virtual machine or instance.</p>
  </li>
  <li>
    <p>In <strong>Lifespan</strong>, you can choose to power on the virtual machines or
instances after creation and set the <strong>Time until Retirement</strong>. If
you select the time until retirement, you will select <strong>Retirement
Warning</strong> accordingly.</p>
  </li>
  <li>
    <p>Click <strong>Submit</strong>.</p>

    <p><img src="../images/vm-instance-retirement.png" alt="vm instance retirement"></p>
  </li>
</ol>

<h3 id="extending-retirement-dates">
<a class="anchor" href="#extending-retirement-dates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extending Retirement Dates</h3>

<p>ManageIQ <strong>Automate</strong> includes a method to extend the retirement
of a virtual machine or instance by 14 days. This section describes how
to create a button that invokes this method and how to edit the method
to change the number of days.</p>

<h4 id="creating-a-custom-button-to-extend-retirement">
<a class="anchor" href="#creating-a-custom-button-to-extend-retirement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Custom Button to Extend Retirement</h4>

<ol>
  <li>
    <p>Navigate to menu:Automate[Customization].</p>
  </li>
  <li>
    <p>Click the <strong>Buttons</strong> accordion.</p>
  </li>
  <li>
    <p>From the <strong>Object Types</strong> tree, select <strong>VM and Instance</strong>.</p>
  </li>
  <li>
    <p>Navigate to the button group to which you want to add this button.
(If you do not have a button group, add one and then create the
button.)</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1862.png" alt="1862">(<strong>Add a new Button</strong>).</p>
  </li>
  <li>
    <p>Type in a button text and button hover text, and select the image
you want to use.</p>
  </li>
  <li>
    <p>In <strong>Object Details</strong>, select <strong>Request</strong> from the
<strong>/System/Process/</strong> dropdown. By default, the message is <code class="language-plaintext highlighter-rouge">create</code>.
Do not change it.</p>
  </li>
  <li>
    <p>In <strong>Request</strong>, type <code class="language-plaintext highlighter-rouge">vm_retire_extend</code>.</p>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>
  </li>
</ol>

<h4 id="changing-the-number-of-days-to-extend-retirement">
<a class="anchor" href="#changing-the-number-of-days-to-extend-retirement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changing the Number of Days to Extend Retirement</h4>

<ol>
  <li>
    <p>Navigate to menu:Automate[Explorer].</p>
  </li>
  <li>
    <p>Click menu:DOMAIN[Cloud &gt; VM &gt; Retirement &gt; Email &gt;
vm_retire_extend].</p>

    <p><strong>Note:</strong></p>

    <p>DOMAIN must be a user-defined Domain and not the locked ManageIQ Domain. If necessary, you can copy the class from the ManageIQ domain into a custom domain.</p>

    <p>This example uses the <strong>Cloud</strong> Namespace, but you can also use the <strong>Infrastructure</strong> namespace.</p>
  </li>
  <li>
    <p>Click <img src="../images/1847.png" alt="1847">(<strong>Configuration</strong>), then
<img src="../images/1851.png" alt="1851">(<strong>Edit this Instance</strong>).</p>
  </li>
  <li>
    <p>In the Value field, change the <strong>vm_retire_extend_days</strong>
attribute to the new value.</p>
  </li>
  <li>
    <p>Click <strong>Save</strong>. <img src="../images/6299.png" alt="6299"></p>
  </li>
</ol>



      </div>
    </article>
  </div>
</div>

    </main>

    <footer class="site-footer">
  <div class="footer-row" id="footer_top">
    <div class="footer-group">
      <img class="footer-logo" src="/assets/images/manageiq-glyph-inverse.svg" alt="ManageIQ">
      <ul class="site_nav">
  <li >
    <a href="/download/">Download</a>
  </li>
  <li >
    <a href="/docs/">Documentation</a>
  </li>
  <li >
    <a href="/community/">Community</a>
  </li>
  <li >
    <a href="/blog/">Blog</a>
  </li>
  <li>
    <button class="fa theme-toggle" data-toggle-theme></i>
  </li>
</ul>

    </div>


    <ul class="contact_menu">
      <li>
        <a href="https://github.com/ManageIQ/">
          <i class="fa fa-github"></i>
          Github
        </a>
      </li>
      <li>
        <a href="https://gitter.im/ManageIQ/manageiq">
          <i class="fa fa-gitter">
            <svg viewBox="45 47 78 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 40.1 (33804) - http://www.bohemiancoding.com/sketch -->
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(45.000000, 47.000000)">
        <g id="icon-gitter" transform="translate(10.000000, 0.000000)">
            <rect id="Rectangle-path" x="0" y="0.5" width="8.25" height="61"></rect>
            <rect id="Rectangle-path" x="49.75" y="14.5" width="8.25" height="47"></rect>
            <rect id="Rectangle-path" x="16.5" y="14.5" width="8.25" height="80.25"></rect>
            <rect id="Rectangle-path" x="33.25" y="14.5" width="8.25" height="80.25"></rect>
        </g>
    </g>
</svg>

          </i>
          Gitter
        </a>
      </li>
      <li>
        <a href="http://talk.manageiq.org/">
          <i class="fa fa-comments"></i>
          Forum
        </a>
      </li>
      
    </ul>
  </div>

  <div class="footer-row" id="footer_bottom">
    <div class="footer-legal">
      <span class="copyright">
        &copy; 2022 ManageIQ.
      </span>
      <span>
        <a href="http://community.redhat.com/software/" target="_blank">
          Sponsored by Red Hat, Inc.
        </a>
      </span>
      <span>
        <a href="/logo/" class="footer-link">Logo</a>
      </span>
      <span>
        <a href="/security/" class="footer-link">Security</a>
      </span>
      <span>
        <a href="/legal/" class="footer-link">Legal &amp; Privacy</a>
      </span>
    </div>

    <div class="footer-social">
      <ul class="social_menu">
        <li>
          <a href="https://twitter.com/ManageIQ" class="social_link social_link-twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>

        <li>
          <a href="https://www.facebook.com/manageiq/" class="social_link social_link-facebook">
            <span class="social_link-icon">
              <i class="fa fa-facebook"></i>
            </span>
          </a>
        </li>

        <!--  -->
        <li>
          <a href="https://www.linkedin.com/company/manageiq" class="social_link social_link-linkedin">
            <span class="social_link-icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
        </li>

        <li>
          <a href="https://www.youtube.com/user/ManageIQVideo" class="social_link social_link-youtube">
            <span class="social_link-icon">
              <i class="fa fa-youtube"></i>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

    <div id="lightbox">
  <header class="lightbox-header">
    <div class="lightbox-title"></div>
    <div class="lightbox-close">
      <span class="fa fa-times"></span>
    </div>
  </header>

  <div class="lightbox-image">
    <img src="" alt="">
  </div>
</div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/assets/js/main.js" charset="utf-8"></script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58883457-1', 'auto');
  ga('send', 'pageview');

</script>
    
  </body>
</html>
